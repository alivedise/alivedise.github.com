

<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Ascheriit</title>
  <meta name="author" content="Alive Kuo">
  <link rel="author" href="humans.txt">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  
    
  
  <meta name="description" content=" Test ">
  
  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://alivedise.github.com/blog/page/4/">
  <link href="/favicon.png" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Cantarell' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Ascheriit" type="application/atom+xml">
  <meta name="og:type" content="website" />
  <meta name="og:site_name" content="Ascheriit" />
  <meta name="og:title" content="Ascheriit" />
  <meta name="og:description" content=" Test " />
  <meta name="og:url" content="http://alivedise.github.com/blog/page/4/index.html"/>
  <meta name="url" content="http://alivedise.github.com/blog/page/4/index.html">
  
  <meta name="distribution" content="global">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-29151691-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <div id="front-wrapper">
  <div id="hero">
    <div id="hero-inner" class="container">
      <div class="span10 offset1">
  <h1>
    Ascheriit
  </h1>
  <h2>I am <em>Alive</em>, a Front-end Developer from <em>Taiwan</em>.</h2>
  <span class="label">Taipei</span> <span class="label">Tokyo</span> <span class="label">Paris</span> <span class="label">San Francisco</span> <span class="label">Berlin</span> <span class="label">Madrid</span>
</div>

    </div>
  </div>
  <section id="sub-hero">
    <div class="container">
      <div class="row">
  <div class="span4">
    <h2>about me</h2>
<pre>
  (function() {
    var Alive = new WebDeveloper();
    Alive.live(_.Taipei);
    Alive.work(_.Mozilla);
    Alive.speak(_.Javascript);
  }());
</pre>
  </div>
  <div class="span6">
    
<h2>recent public projects</h2>
<dl id="gh_repos" class="dl-horizontal" data-github-user="alivedise" data-github-repo-count="5" data-github-skip-forks="true">
  <dd class="loading">Status updating&#8230;</dd>
</dl>
<script src="/javascripts/github.js" type="text/javascript"> </script>
<script src="/javascripts/libs/jXHR.js" type="text/javascript"> </script>


  </div>
  <div class="span2">
    <h2>found on</h2>

<a href="https://github.com/alivedise/" rel="tooltip" title="Github"><img class="social_icon" title="Github" alt="github icon" src="/images/glyphicons_381_github.png"></a>







<a href="http://twitter.com/alivedise" rel="tooltip" title="Twitter"><img class="social_icon" title="Twitter" alt="Twitter icon" src="/images/glyphicons_391_twitter_t.png"></a>








  </div>
</div>

    </div>
  </section>
  <div class="container">
    <div class="row" id="post-container">
    
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/17/javascript-future-reserve-word/">[Javascript] Final誤我一生 - Js未來保留字</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Alive Kuo</span></span>
  

 - 
        








  


<time datetime="2012-02-17T17:50:00+08:00" pubdate data-updated="true">Feb 17<span>th</span>, 2012</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/javascript/'>javascript</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><h2>問題</h2>

<p>Rhino javascript debugger一直有一段敘述過不了</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">var</span> <span class="nx">utc_current</span> <span class="o">=</span> <span class="nx">self</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">begin</span> <span class="o">+</span> <span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="kr">final</span> <span class="o">-</span> <span class="nx">self</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">begin</span><span class="p">)</span><span class="o">*</span><span class="nx">offset</span><span class="o">/</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#homura&#39;</span><span class="p">).</span><span class="nx">width</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p>可是明明真實的瀏覽器跑起來都正常運作，用jsfiddle的jslint看也沒問題：
<img src="http://farm8.staticflickr.com/7204/6890686877_931ed0154d_b.jpg" alt="jsfiddle說的"></img></p>

<iframe style="width: 100%; height: 300px" src="http://jsfiddle.net/ddRsg/embedded/js,resources,html,css,result/light/"></iframe>


<h2>真相</h2>

<p>用<a href="http://www.javascriptlint.com/online_lint.php">online jslint</a>看,
<img src="http://farm8.staticflickr.com/7056/6890686883_ff8c5d3848_b.jpg">
突然想起來final好像是js保留字不能直接拿來當key，
實際上會因為瀏覽器有沒有處理而定。</p>

<h2>JS保留字</h2>

<ul>
<li>abstract  else  instanceof  super</li>
<li>boolean  enum  int  switch</li>
<li>break  export  interface  synchronized</li>
<li>byte  extends                  let  this</li>
<li>case  false  long  throw</li>
<li>catch  final  native  thishrows</li>
<li>char  finally  new  transient</li>
<li>class  float  null  true</li>
<li>const  for  package  try</li>
<li>continue  function  private  typeof</li>
<li>debugger  goto  protected  var</li>
<li>default  if  public  void</li>
<li>debuggerlete  implements  return  volatile</li>
<li>do  import  short  while</li>
<li>double  in  static  with</li>
</ul>

</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/17/javascriptmvc-stealjs/">[javascriptMVC] stealJS - Steal Anything</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Alive Kuo</span></span>
  

 - 
        








  


<time datetime="2012-02-17T13:44:00+08:00" pubdate data-updated="true">Feb 17<span>th</span>, 2012</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/javascriptmvc/'>javascriptmvc</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>steal</strong> is a function that loads scripts, css, and  other resources into your application.</p>

<pre><code>steal(FILE_or_FUNCTION, ...)
</code></pre>

<h2>Quick Walkthrough</h2>

<p>Add a script tag that loads<code>steal/steal.js</code> and add the path to the first file to load in the query string like:</p>

<p> &lt;script type=&#8217;text/javascript&#8217;</p>

<pre><code> src='../steal/steal.js?myapp/myapp.js'&gt;
</code></pre>

<p> &lt;/script></p>

<p>Then, start loading things and using them like:</p>

<pre><code> steal('myapp/tabs.js',
       'myapp/slider.js', 
       'myapp/style.css',function(){

    // tabs and slider have loaded 
    $('#tabs').tabs();
    $('#slider').slider()
 })
</code></pre>

<p>Make sure your widgets load their dependencies too:</p>

<pre><code> // myapp/tabs.js
 steal('jquery', function(){
   $.fn.tabs = function(){
    ...
   }
 })
</code></pre>

<h2>Examples:</h2>

<pre><code> // Loads ROOT/jquery/controller/controller.js
 steal('jquery/controller')
 steal('jquery/controller/controller.js')

 // Loads coffee script type and a coffee file relative to
 // the current file
 steal('steal/coffee').then('./mycoffee.coffee')

 // Load 2 files and dependencies in parallel and
 // callback when both have completed
 steal('jquery/controller','jquery/model', function(){
   // $.Controller and $.Model are available
 })

 // Loads a coffee script with a non-standard extension (cf)
 // relative to the current page and instructs the build
 // system to not package it (but it will still be loaded).
 steal({
    src: "./foo.cf",
    packaged: false,
    type: "coffee"
  })
</code></pre>

<p>The following is a longer walkthrough of how to install
 and use steal:</p>

<h2>Adding steal to a page</h2>

<p>After installing StealJS (or JavaScriptMVC),
find the <code>steal</code> folder with
 <code>steal/steal.js</code>.</p>

<p>To use steal, add a script tag
to <code>steal/steal.js</code> to your
html pages.</p>

<p>This walkthrough assumes you have the steal script in <code>public/steal/steal.js</code> and a directory structure like:</p>

<p> @codestart text
 /public</p>

<pre><code> /steal
 /pages
     myapp.html
 /myapp
     myapp.js
     jquery.js
     jquery.ui.tabs.js
</code></pre>

<p> @codeend</p>

<p> To use steal in <code>public/pages/myapp.html</code>,
 add a script tag in <code>myapp.html</code>:</p>

<p> @codestart html
 &lt;script type=&#8217;text/javascript&#8217;</p>

<pre><code> src='../steal/steal.js'&gt;
</code></pre>

<p> &lt;/script>
 @codeend</p>

<p> <div class='whisper'>PRO TIP: Bottom load your scripts. It
 will increase your application&#8217;s percieved response time.</div></p>

<h2>Loading the First Script</h2>

<p> Once steal has been added to your page, it&#8217;s time
 to load scripts. We want to load <code>myapp.js</code>
 and have it load <code>jquery.js</code> and
 <code>jquery.ui.tabs.js</code>.</p>

<p> By default, steal likes your scripts
 to be within in the [steal.static.root steal.root] folder.  The [steal.root] the
 folder contains the <code>steal</code> folder.  In this example,
 it is the <code>public</code> folder.</p>

<p> To load <code>myapp/myapp.js</code>, we have two options:</p>

<h4>Add a script tag</h4>

<p> Add a script tag after the steal
 script that &#8216;steals&#8217; <code>myapp.js</code> like:</p>

<p> @codestart html
 &lt;script type=&#8217;text/javascript&#8217;>
   steal(&#8216;myapp/myapp.js&#8217;)
 &lt;/script>
 @codeend</p>

<h4>Add the script parameter</h4>

<p> The most common (and shortest) way to load <code>myapp.js</code>
 is to add the script path to the steal script&#8217;s src after in the
 query params.  So, instead of adding a script, we change
 the steal script from:</p>

<p> @codestart html
 &lt;script type=&#8217;text/javascript&#8217;</p>

<pre><code> src='../steal/steal.js'&gt;
</code></pre>

<p> &lt;/script>
 @codeend</p>

<p> To</p>

<p> @codestart html
 &lt;script type=&#8217;text/javascript&#8217;</p>

<pre><code> src='../steal/steal.js?&lt;b&gt;myapp/myapp.js&lt;/b&gt;'&gt;
</code></pre>

<p> &lt;/script>
 @codeend</p>

<p> <div class='whisper'>PRO TIP: You can also just add
 <code>?myapp</code> to the query string.</div></p>

<h2>Loading Scripts</h2>

<p> We want to load <code>jquery.js</code> and
 <code>jquery.ui.tabs.js</code> into the page and then
 add then create a tabs widget.  First we need to load
 <code>jquery.js</code>.</p>

<p> By default, steal loads script relative to [steal.root]. To
 load <code>myapp/jquery.js</code> we can the following to
 <code>myapp.js</code>:</p>

<pre><code> steal('myapp/jquery.js');
</code></pre>

<p> But, we can also load relative to <code>myapp.js</code> like:</p>

<pre><code> steal('./jquery.js');
</code></pre>

<p> Next, we need to load <code>jquery.ui.tabs.js</code>.  You
 might expect something like:</p>

<pre><code> steal('./jquery.js','./jquery.ui.tabs.js')
</code></pre>

<p> to work.  But there are two problems / complications:</p>

<ul>
<li> steal loads scripts in parallel and runs out of order</li>
<li> <code>jquery.ui.tabs.js</code> depends on jQuery being loaded</li>
</ul>


<p> This means that steal might load <code>jquery.ui.tabs.js</code>
 before <code>jquery.js</code>.  But this is easily fixed.</p>

<p> [steal.static.then] waits until all previous scripts have loaded and
 run before loading scripts after it.  We can load <code>jquery.ui.tabs.js</code>
 after <code>jquery.js</code> like:</p>

<pre><code> steal('./jquery.js').then('./jquery.ui.tabs.js')
</code></pre>

<p> Finally, we need to add tabs to the page after
 the tabs&#8217;s widget has loaded.  We can add a callback function to
 steal that will get called when all previous scripts have finished
 loading:</p>

<pre><code> steal('./jquery.js').then('./jquery.ui.tabs.js', function($){
   $('#tabs').tabs();
 })
</code></pre>

<h2>Other Info</h2>

<h3>Exclude Code Blocks From Production</h3>

<p> To exclude code blocks from being included in
 production builds, add the following around
 the code blocks.</p>

<pre><code> //!steal-remove-start
     code to be removed at build
 //!steal-remove-end
</code></pre>

<h3>Lookup Paths</h3>

<p> By default steal loads resources relative
 to [steal.static.root steal.root].  For example, the following
 loads foo.js in <code>steal.root</code>:</p>

<pre><code> steal('foo.js'); // loads //foo.js
</code></pre>

<p> This is the same as writing:</p>

<pre><code> steal('//foo.js');
</code></pre>

<p> Steal uses <code>'//'</code> to designate the [steal.static.root steal.root]
 folder.</p>

<p> To load relative to the current file, add <code>"./"</code> or
  <code>"../"</code>:</p>

<pre><code> steal("./bar.js","../folder/zed.js");
</code></pre>

<p> Often, scripts can be found in a folder within the same
 name. For example, [jQuery.Controller $.Controller] is
 in <code>//jquery/controller/controller.js</code>. For convience,
 if steal is provided a path without an extension like:</p>

<pre><code> steal('FOLDER/PLUGIN');
</code></pre>

<p> It is the same as writing:</p>

<pre><code> steal('FOLDER/PLUGIN/PLUGIN.js')
</code></pre>

<p> This means that <code>//jquery/controller/controller.js</code>
 can be loaded like:</p>

<pre><code>  steal('jquery/controller')
</code></pre>

<h3>Types</h3>

<p> steal can load resources other than JavaScript.</p>

<p> @constructor</p>

<p> Loads resources specified by each argument.  By default, resources
 are loaded in parallel and run in any order.</p>

<p> @param {String|Function|Object} resource&#8230;</p>

<p> Each argument specifies a resource.  Resources can
 be given as a:</p>

<h3>Object</h3>

<p> An object that specifies the loading and build
 behavior of a resource.</p>

<pre><code>  steal({
    src: "myfile.cf",
    type: "coffee",
    packaged: true,
    unique: true,
    ignore: false,
    waits: false
  })
</code></pre>

<p> The available options are:</p>

<ul>
<li><p><strong>src</strong> {<em>String</em>} - the path to the resource.</p></li>
<li><p><strong>waits</strong> {<em>Boolean default=false</em>} - true the resource should wait
for prior steals to load and run. False if the resource should load and run in
parallel.  This defaults to true for functions.</p></li>
<li><p><strong>unique</strong> {<em>Boolean default=true</em>} - true if this is a unique resource
that &#8216;owns&#8217; this url.  This is true for files, false for functions.</p></li>
<li><p><strong>ignore</strong> {<em>Boolean default=false</em>} - true if this resource should
not be built into a production file and not loaded in
production.  This is great for script that should only be available
in development mode.</p></li>
<li><p><strong>packaged</strong> {<em>Boolean default=true</em>} - true if the script should be built
into the production file. false if the script should not be built
into the production file, but still loaded.  This is useful for
loading &#8216;packages&#8217;.</p></li>
<li><p><strong>type</strong> {<em>String default=&#8221;js&#8221;</em>} - the type of the resource.  This
is typically inferred from the src.</p></li>
</ul>


<h3><strong>String</strong></h3>

<p> Specifies src of the resource.  For example:</p>

<pre><code>   steal('./file.js')
</code></pre>

<p> Is the same as calling:</p>

<pre><code>   steal({src: './file.js'})
</code></pre>

<h3><strong>Function</strong></h3>

<p> A callback function that runs when all previous steals
 have completed.</p>

<pre><code> steal('jquery', 'foo',function(){
   // jquery and foo have finished loading
   // and runing
 })
</code></pre>

<p> @return {steal} the steal object for chaining
/</p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/17/rd2-table-game-survey/">[Table Game] 桌遊大賽賽前研究</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Alive Kuo</span></span>
  

 - 
        








  


<time datetime="2012-02-17T09:33:00+08:00" pubdate data-updated="true">Feb 17<span>th</span>, 2012</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/tablegame/'>tablegame</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><h2>玩過得項目</h2>

<h3>卡卡頌十周年紀念版 (德文版)</h3>

<ul>
<li><a href="http://pokichen.pixnet.net/blog/post/28497470-%5B%E6%A1%8C%E9%81%8A%E4%BB%8B%E7%B4%B9%5D-%E5%8D%A1%E5%8D%A1%E9%A0%8C%E5%8D%81%E9%80%B1%E5%B9%B4%E7%B4%80%E5%BF%B5%E7%89%88-carcassonne%3A-10th">外部網誌介紹</a></li>
<li>拼圖+策略遊戲</li>
<li><img src="http://pic.pimg.tw/pokichen/dcd150bfc7edbf165acf0e1e81740058.jpg"></li>
</ul>


<h3>矮人礦坑 1+2 – 中文版</h3>

<ul>
<li><a href="http://bghut.pixnet.net/blog/post/30727295">外部網誌介紹-1代</a></li>
<li><a href="http://bghut.pixnet.net/blog/post/33382544-saboteur-2-%E7%9F%AE%E4%BA%BA%E7%A4%A6%E5%9D%912">外部網誌介紹-2代</a></li>
<li>桌遊入門遊戲之一，心機遊戲榜上有名的系列。</li>
<li><img src="http://images.boardgamegeek.com/images/pic172286_md.jpg" title="alt" ></li>
</ul>


<h3>閃靈快手</h3>

<ul>
<li><a href="http://barruse0808.pixnet.net/blog/post/12545713">外部網誌介紹</a></li>
<li><a href="http://aliveshell.blogspot.com/2011/06/blog-post_15.html">自己以前寫得網誌介紹</a></li>
<li><img src="http://pic.pimg.tw/barruse0808/1326182657-81959729.jpg"></li>
</ul>


<h3>水瓶座</h3>

<ul>
<li><a href="http://heyjude0929.pixnet.net/blog/post/17222133">外部網誌介紹</a></li>
<li><a href="http://aliveshell.blogspot.com/2011/06/blog-post_6356.html">自己以前寫得網誌介紹</a></li>
<li><img src="http://images.boardgamegeek.com/images/pic67758_md.jpg"></li>
</ul>


<h3>Dixit 3說書人–奧德賽擴充</h3>

<ul>
<li><a href="http://heyjude0929.pixnet.net/blog/post/29631793">外部網誌介紹</a></li>
<li>默契考驗遊戲，事實上是挖梗遊戲。</li>
<li><img src="http://images.boardgamegeek.com/images/pic455883_md.jpg"></li>
</ul>


<h2>雄偉競技場 – 中文版</h2>

<ul>
<li><a href="http://home.gamer.com.tw/creationDetail.php?sn=910301">外部網誌介紹</a></li>
<li>賭博版的牌七，這樣說好像不太有趣，不過這遊戲我也只玩過一次就沒碰了。</li>
<li><img src="http://img391.imageshack.us/img391/1374/colossal01gd8.jpg"></li>
</ul>


<h2>沒玩過得項目</h2>

<h3>諜影危機</h3>

<ul>
<li><a href="http://www.bncgames.com/pdt/pdt114.html">外部網誌介紹</a></li>
<li>這看起來實在非常像風聲外國版XD

<h3>盜夢都市</h3></li>
<li><a href="http://barruse0808.pixnet.net/blog/post/14640737">外部網誌介紹</a>

<h3>Dweebies</h3></li>
<li><a href="http://barruse0808.pixnet.net/blog/post/9448441">外部網誌介紹</a>

<h3>穿越美國</h3></li>
<li><a href="http://heyjude0929.pixnet.net/blog/post/21362647">外部網誌介紹</a>

<h3>GiftTrap送禮高手 – 中文版</h3></li>
<li><a href="http://www.wretch.cc/blog/gamefarm/7986061">外部網誌介紹</a>

<h3>失落的城市 – 中文版</h3></li>
<li><a href="http://tw.myblog.yahoo.com/bg-y17/article?mid=-2&amp;prev=60&amp;l=a&amp;fid=11">外部網誌介紹</a></li>
</ul>

</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/15/git-submodule/">[Git] 心得(1) Submodule, Bitbucket</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Alive Kuo</span></span>
  

 - 
        








  


<time datetime="2012-02-15T23:32:00+08:00" pubdate data-updated="true">Feb 15<span>th</span>, 2012</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/github/'>github</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><h1>Bitbucker</h1>

<h1>偶然間發現這個github的競爭者<a href="http://bitbucket.com">Bitbucket</a>推出了無限免費私有倉庫+無限硬碟空間，</h1>

<p>title: &#8220;[git] 心得(1) Submodule, Bitbucker&#8221;
date: 2012-02-15 23:32
comments: true</p>

<h2>categories: git,github </h2>

<h1>Bitbucker</h1>

<p>偶然間發現這個github的競爭者<a href="http://bitbucker.com">Bitbucker</a>推出了無限免費私有倉庫+無限硬碟空間，</p>

<blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><p>origin/master
於是有了一個想法：把不能說得project放到bitbucker，把好玩的open source放在github，兩者透過submodule互通！
畢竟工作上要用到大量的open source project，每次更新都要cp實在很累人。
在大部分專案都在github，而且他的介面也真的很好用的狀況下，在github上開repo還是有必要得！
而且還要能夠隨時跟原作者的repo同步！</p></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote>

<h1>Git submodule</h1>

<p>要達成這個目的還是得先了解一下submodule的用法，
以下是學到的事情。</p>

<h2>本地端起submodule</h2>

<pre><code>cd my_existing_repo
git add submodule git@github.com:alivedise/lab.git
git submodule init #啟動submodule
git submodule update #把submodule內容抓回本地端
git commit -a -m 'commited with submodule lab added!' #commit submodule的設定回自己的git remote
</code></pre>

<h2>別人更新他的repo時</h2>

<pre><code>git submodule update
#確認是你想要得內容
git commit -a -m 'commited with submodule lab updated.' #commit submodule新的版本號回去自己的git remote
</code></pre>

<h2>問題來了，如果別人的repo你自己會作修改該怎麼辦？</h2>

<p>我的作法：直接fork回自己的repo，將submodule重新指向自己的repo，自己來維護這份repo。</p>

<h2>別人跟自己同時都有更新repo時</h2>

<p>很簡單，利用add remote->fetch->merge->commit</p>

<pre><code>cd my_forked_submodule
git add remote upstream git@github.com:alivedise/lab.git
git fetch upstream
git merge origin master
</code></pre>

<h1>Reference</h1>

<ul>
<li><a href="http://blog.wu-boy.com/2011/09/introduction-to-git-submodule/">Git Submodule 介紹與使用</a></li>
<li><a href="http://www.slideshare.net/littlebtc/git-5528339">slideshare</a></li>
<li><a href="https://github.com/ginatrapani/ThinkUp/wiki/Developer-Guide%3A-Get-the-Source-Code-from-GitHub-and-Keep-It-Updated">Developer Guide: Get the Source Code from GitHub and Keep It Updated</a> 推薦！</li>
</ul>

</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/10/octopress-on-ubuntu-lazy/">[Octopress] 重來懶人包</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Alive Kuo</span></span>
  

 - 
        








  


<time datetime="2012-02-10T15:36:00+08:00" pubdate data-updated="true">Feb 10<span>th</span>, 2012</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/octopress/'>octopress</a>, <a class='category' href='/blog/categories/ubuntu/'>ubuntu</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><p>在ubuntu上架設octopress環境的懶人包：</p>

<h1>Git</h1>

<p>略過</p>

<h1>rvm/ruby系列</h1>

<h2>事前準備</h2>

<pre><code>apt-get install libssl-dev
apt-get install libtool
sudo apt-get install libyaml-0-2 libyaml-dev
</code></pre>

<h2>開始</h2>

<p>bash -s stable &lt; &lt;(curl -s https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer)
echo &#8216;[[ -s &#8220;$HOME/.rvm/scripts/rvm&#8221; ]] &amp;&amp; . &#8220;$HOME/.rvm/scripts/rvm&#8221; # Load RVM function&#8217; >> ~/.bash_profile
source ~/.bash_profile
rvm pkg install openssl
rvm pkg install iconv
rvm install 1.9.2 -C &#8211;with-openssl-dir=$HOME/.rvm/usr,&#8211;with-iconv-dir=$HOME/.rvm/usr
rvm rubygems latest
rvm use 1.9.2 &#8211;default
rvm reload
gem install bundler</p>

<h1>Octopress</h1>

<p>git clone git://github.com/imathis/octopress.git octopress
cd octopress
yes
bundle install
rake setup_github_pages
git@github.com:alivedise/alivedise.github.com.git
git pull</p>

<p>完成！</p>

<h1>讓vim支援octopress語法</h1>

<h2>安裝pathogen</h2>

<p>(https://github.com/tpope/vim-pathogen)</p>

<h2>安裝vim-octopress</h2>

<p>(https://github.com/vim-scripts/vim-octopress)</p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/09/multiline-tooltip/">[HTML] 多行tooltip(title)</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Alive Kuo</span></span>
  

 - 
        








  


<time datetime="2012-02-09T11:46:00+08:00" pubdate data-updated="true">Feb 9<span>th</span>, 2012</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/w3c/'>w3c</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><p>html原生tooltip(title屬性)顯示多行的方法：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;span</span> <span class="na">title=</span><span class="s">&quot;123&amp;#13;456&quot;</span><span class="nt">&gt;</span>test3<span class="nt">&lt;/span&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>殘念得是很難得的firefox有bug，多行會變成空白字元&#8230;.
IE跟Chrome是正常的。</p>

<h2>jsfiddle</h2>

<iframe style="width: 100%; height: 300px" src="http://jsfiddle.net/CUAh9/embedded/result,html/light/"></iframe>



</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/09/slickgrid-api-list/">[jQuery] SlickGrid API列表</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Alive Kuo</span></span>
  

 - 
        








  


<time datetime="2012-02-09T11:03:00+08:00" pubdate data-updated="true">Feb 9<span>th</span>, 2012</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/jquery/'>jquery</a>, <a class='category' href='/blog/categories/slickgrid/'>slickgrid</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><h2>Grid options</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'>    <span class="kd">var</span> <span class="nx">defaults</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">headerHeight</span><span class="o">:</span> <span class="mi">25</span><span class="p">,</span>                <span class="c1">//header高度</span>
</span><span class='line'>        <span class="nx">rowHeight</span><span class="o">:</span> <span class="mi">25</span><span class="p">,</span>                   <span class="c1">//列高</span>
</span><span class='line'>        <span class="nx">defaultColumnWidth</span><span class="o">:</span> <span class="mi">80</span><span class="p">,</span>          <span class="c1">//預設欄位寬度</span>
</span><span class='line'>        <span class="nx">enableAddRow</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>             <span class="c1">//可否新增列</span>
</span><span class='line'>        <span class="nx">leaveSpaceForNewRows</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>     <span class="c1">//是否預留新列空間</span>
</span><span class='line'>        <span class="nx">editable</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>                 <span class="c1">//是否可編輯</span>
</span><span class='line'>        <span class="nx">autoEdit</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>                  <span class="c1">//?</span>
</span><span class='line'>        <span class="nx">enableCellNavigation</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>      <span class="c1">//是否可用上下左右</span>
</span><span class='line'>        <span class="nx">enableColumnReorder</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>       <span class="c1">//欄位是否可換位</span>
</span><span class='line'>        <span class="nx">asyncEditorLoading</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">asyncEditorLoadDelay</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">forceFitColumns</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">enableAsyncPostRender</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">asyncPostRenderDelay</span><span class="o">:</span> <span class="mi">60</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">autoHeight</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">editorLock</span><span class="o">:</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">GlobalEditorLock</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">showHeaderRow</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">headerRowHeight</span><span class="o">:</span> <span class="mi">25</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">showTopPanel</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">topPanelHeight</span><span class="o">:</span> <span class="mi">25</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">formatterFactory</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">editorFactory</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">cellFlashingCssClass</span><span class="o">:</span> <span class="s2">&quot;flashing&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">selectedCellCssClass</span><span class="o">:</span> <span class="s2">&quot;selected&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">multiSelect</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">enableTextSelectionOnCells</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">dataItemColumnValueExtractor</span><span class="o">:</span> <span class="kc">null</span>
</span><span class='line'>    <span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Column options</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'>       <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">resizable</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">sortable</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">minWidth</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">rerenderOnResize</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">headerCssClass</span><span class="o">:</span> <span class="kc">null</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<h2>Grid callback</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'>       <span class="s2">&quot;onScroll&quot;</span><span class="o">:</span>                     <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onSort&quot;</span><span class="o">:</span>                       <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onHeaderContextMenu&quot;</span><span class="o">:</span>          <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onHeaderClick&quot;</span><span class="o">:</span>                <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onMouseEnter&quot;</span><span class="o">:</span>                 <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onMouseLeave&quot;</span><span class="o">:</span>                 <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onClick&quot;</span><span class="o">:</span>                      <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onDblClick&quot;</span><span class="o">:</span>                   <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onContextMenu&quot;</span><span class="o">:</span>                <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onKeyDown&quot;</span><span class="o">:</span>                    <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onAddNewRow&quot;</span><span class="o">:</span>                  <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onValidationError&quot;</span><span class="o">:</span>            <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onViewportChanged&quot;</span><span class="o">:</span>            <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onColumnsReordered&quot;</span><span class="o">:</span>           <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onColumnsResized&quot;</span><span class="o">:</span>             <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onCellChange&quot;</span><span class="o">:</span>                 <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onBeforeEditCell&quot;</span><span class="o">:</span>             <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onBeforeCellEditorDestroy&quot;</span><span class="o">:</span>    <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onBeforeDestroy&quot;</span><span class="o">:</span>              <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onActiveCellChanged&quot;</span><span class="o">:</span>          <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onActiveCellPositionChanged&quot;</span><span class="o">:</span>  <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onDragInit&quot;</span><span class="o">:</span>                   <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onDragStart&quot;</span><span class="o">:</span>                  <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onDrag&quot;</span><span class="o">:</span>                       <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onDragEnd&quot;</span><span class="o">:</span>                    <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span><span class='line'>        <span class="s2">&quot;onSelectedRowsChanged&quot;</span><span class="o">:</span>        <span class="k">new</span> <span class="nx">Slick</span><span class="p">.</span><span class="nx">Event</span><span class="p">(),</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Grid API</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'>        <span class="c1">// Methods</span>
</span><span class='line'>        <span class="s2">&quot;registerPlugin&quot;</span><span class="o">:</span>               <span class="nx">registerPlugin</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;unregisterPlugin&quot;</span><span class="o">:</span>             <span class="nx">unregisterPlugin</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getColumns&quot;</span><span class="o">:</span>                   <span class="nx">getColumns</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;setColumns&quot;</span><span class="o">:</span>                   <span class="nx">setColumns</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getColumnIndex&quot;</span><span class="o">:</span>               <span class="nx">getColumnIndex</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;updateColumnHeader&quot;</span><span class="o">:</span>           <span class="nx">updateColumnHeader</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;setSortColumn&quot;</span><span class="o">:</span>                <span class="nx">setSortColumn</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;autosizeColumns&quot;</span><span class="o">:</span>              <span class="nx">autosizeColumns</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getOptions&quot;</span><span class="o">:</span>                   <span class="nx">getOptions</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;setOptions&quot;</span><span class="o">:</span>                   <span class="nx">setOptions</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getData&quot;</span><span class="o">:</span>                      <span class="nx">getData</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getDataLength&quot;</span><span class="o">:</span>                <span class="nx">getDataLength</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getDataItem&quot;</span><span class="o">:</span>                  <span class="nx">getDataItem</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;setData&quot;</span><span class="o">:</span>                      <span class="nx">setData</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getSelectionModel&quot;</span><span class="o">:</span>            <span class="nx">getSelectionModel</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;setSelectionModel&quot;</span><span class="o">:</span>            <span class="nx">setSelectionModel</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getSelectedRows&quot;</span><span class="o">:</span>              <span class="nx">getSelectedRows</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;setSelectedRows&quot;</span><span class="o">:</span>              <span class="nx">setSelectedRows</span><span class="p">,</span>
</span><span class='line'>
</span><span class='line'>      <span class="s2">&quot;render&quot;</span><span class="o">:</span>                       <span class="nx">render</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;invalidate&quot;</span><span class="o">:</span>                   <span class="nx">invalidate</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;invalidateRow&quot;</span><span class="o">:</span>                <span class="nx">invalidateRow</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;invalidateRows&quot;</span><span class="o">:</span>               <span class="nx">invalidateRows</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;invalidateAllRows&quot;</span><span class="o">:</span>            <span class="nx">invalidateAllRows</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;updateCell&quot;</span><span class="o">:</span>                   <span class="nx">updateCell</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;updateRow&quot;</span><span class="o">:</span>                    <span class="nx">updateRow</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getViewport&quot;</span><span class="o">:</span>                  <span class="nx">getVisibleRange</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getRenderedRange&quot;</span><span class="o">:</span>             <span class="nx">getRenderedRange</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;resizeCanvas&quot;</span><span class="o">:</span>                 <span class="nx">resizeCanvas</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;updateRowCount&quot;</span><span class="o">:</span>               <span class="nx">updateRowCount</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;scrollRowIntoView&quot;</span><span class="o">:</span>            <span class="nx">scrollRowIntoView</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getCanvasNode&quot;</span><span class="o">:</span>                <span class="nx">getCanvasNode</span><span class="p">,</span>
</span><span class='line'>
</span><span class='line'>        <span class="s2">&quot;getCellFromPoint&quot;</span><span class="o">:</span>             <span class="nx">getCellFromPoint</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getCellFromEvent&quot;</span><span class="o">:</span>             <span class="nx">getCellFromEvent</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getActiveCell&quot;</span><span class="o">:</span>                <span class="nx">getActiveCell</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;setActiveCell&quot;</span><span class="o">:</span>                <span class="nx">setActiveCell</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getActiveCellNode&quot;</span><span class="o">:</span>            <span class="nx">getActiveCellNode</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getActiveCellPosition&quot;</span><span class="o">:</span>        <span class="nx">getActiveCellPosition</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;resetActiveCell&quot;</span><span class="o">:</span>              <span class="nx">resetActiveCell</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;editActiveCell&quot;</span><span class="o">:</span>               <span class="nx">makeActiveCellEditable</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getCellEditor&quot;</span><span class="o">:</span>                <span class="nx">getCellEditor</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getCellNode&quot;</span><span class="o">:</span>                  <span class="nx">getCellNode</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getCellNodeBox&quot;</span><span class="o">:</span>               <span class="nx">getCellNodeBox</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;canCellBeSelected&quot;</span><span class="o">:</span>            <span class="nx">canCellBeSelected</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;canCellBeActive&quot;</span><span class="o">:</span>              <span class="nx">canCellBeActive</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;navigatePrev&quot;</span><span class="o">:</span>                 <span class="nx">navigatePrev</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;navigateNext&quot;</span><span class="o">:</span>                 <span class="nx">navigateNext</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;navigateUp&quot;</span><span class="o">:</span>                   <span class="nx">navigateUp</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;navigateDown&quot;</span><span class="o">:</span>                 <span class="nx">navigateDown</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;navigateLeft&quot;</span><span class="o">:</span>                 <span class="nx">navigateLeft</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;navigateRight&quot;</span><span class="o">:</span>                <span class="nx">navigateRight</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;gotoCell&quot;</span><span class="o">:</span>                     <span class="nx">gotoCell</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getTopPanel&quot;</span><span class="o">:</span>                  <span class="nx">getTopPanel</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;showTopPanel&quot;</span><span class="o">:</span>                 <span class="nx">showTopPanel</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;hideTopPanel&quot;</span><span class="o">:</span>                 <span class="nx">hideTopPanel</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;showHeaderRowColumns&quot;</span><span class="o">:</span>         <span class="nx">showHeaderRowColumns</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;hideHeaderRowColumns&quot;</span><span class="o">:</span>         <span class="nx">hideHeaderRowColumns</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getHeaderRow&quot;</span><span class="o">:</span>                 <span class="nx">getHeaderRow</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getHeaderRowColumn&quot;</span><span class="o">:</span>           <span class="nx">getHeaderRowColumn</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getGridPosition&quot;</span><span class="o">:</span>              <span class="nx">getGridPosition</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;flashCell&quot;</span><span class="o">:</span>                    <span class="nx">flashCell</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;addCellCssStyles&quot;</span><span class="o">:</span>             <span class="nx">addCellCssStyles</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;setCellCssStyles&quot;</span><span class="o">:</span>             <span class="nx">setCellCssStyles</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;removeCellCssStyles&quot;</span><span class="o">:</span>          <span class="nx">removeCellCssStyles</span><span class="p">,</span>
</span><span class='line'>
</span><span class='line'>        <span class="s2">&quot;destroy&quot;</span><span class="o">:</span>                      <span class="nx">destroy</span><span class="p">,</span>
</span></code></pre></td></tr></table></div></figure>


<h2>DataView API</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'>        <span class="s2">&quot;beginUpdate&quot;</span><span class="o">:</span>      <span class="nx">beginUpdate</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;endUpdate&quot;</span><span class="o">:</span>        <span class="nx">endUpdate</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;setPagingOptions&quot;</span><span class="o">:</span> <span class="nx">setPagingOptions</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getPagingInfo&quot;</span><span class="o">:</span>    <span class="nx">getPagingInfo</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getItems&quot;</span><span class="o">:</span>         <span class="nx">getItems</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;setItems&quot;</span><span class="o">:</span>         <span class="nx">setItems</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;setFilter&quot;</span><span class="o">:</span>        <span class="nx">setFilter</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;sort&quot;</span><span class="o">:</span>             <span class="nx">sort</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;fastSort&quot;</span><span class="o">:</span>         <span class="nx">fastSort</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;reSort&quot;</span><span class="o">:</span>           <span class="nx">reSort</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;groupBy&quot;</span><span class="o">:</span>          <span class="nx">groupBy</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;setAggregators&quot;</span><span class="o">:</span>   <span class="nx">setAggregators</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;collapseGroup&quot;</span><span class="o">:</span>    <span class="nx">collapseGroup</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;expandGroup&quot;</span><span class="o">:</span>      <span class="nx">expandGroup</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getGroups&quot;</span><span class="o">:</span>        <span class="nx">getGroups</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getIdxById&quot;</span><span class="o">:</span>       <span class="nx">getIdxById</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getRowById&quot;</span><span class="o">:</span>       <span class="nx">getRowById</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getItemById&quot;</span><span class="o">:</span>      <span class="nx">getItemById</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getItemByIdx&quot;</span><span class="o">:</span>     <span class="nx">getItemByIdx</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;setRefreshHints&quot;</span><span class="o">:</span>  <span class="nx">setRefreshHints</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;setFilterArgs&quot;</span><span class="o">:</span>    <span class="nx">setFilterArgs</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;refresh&quot;</span><span class="o">:</span>          <span class="nx">refresh</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;updateItem&quot;</span><span class="o">:</span>       <span class="nx">updateItem</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;insertItem&quot;</span><span class="o">:</span>       <span class="nx">insertItem</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;addItem&quot;</span><span class="o">:</span>          <span class="nx">addItem</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;deleteItem&quot;</span><span class="o">:</span>       <span class="nx">deleteItem</span><span class="p">,</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// data provider methods</span>
</span><span class='line'>        <span class="s2">&quot;getLength&quot;</span><span class="o">:</span>        <span class="nx">getLength</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getItem&quot;</span><span class="o">:</span>          <span class="nx">getItem</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;getItemMetadata&quot;</span><span class="o">:</span>  <span class="nx">getItemMetadata</span><span class="p">,</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// events</span>
</span><span class='line'>        <span class="s2">&quot;onRowCountChanged&quot;</span><span class="o">:</span>    <span class="nx">onRowCountChanged</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;onRowsChanged&quot;</span><span class="o">:</span>        <span class="nx">onRowsChanged</span><span class="p">,</span>
</span><span class='line'>        <span class="s2">&quot;onPagingInfoChanged&quot;</span><span class="o">:</span>  <span class="nx">onPagingInfoChanged</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/07/image-tag-test-on-cats/">[Octopress] Image Tag of Octopress測試</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Alive Kuo</span></span>
  

 - 
        








  


<time datetime="2012-02-07T10:07:00+08:00" pubdate data-updated="true">Feb 7<span>th</span>, 2012</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/cats/'>cats</a>, <a class='category' href='/blog/categories/octopress/'>octopress</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="https://p.twimg.com/Ak_HuCoCQAAY7cd.jpg:large">
<img src="https://p.twimg.com/Ak_H-6VCQAAqQ8s.jpg:large">
<img src="https://p.twimg.com/Ak9KYgzCIAAr5DM.jpg:large">
<img src="https://p.twimg.com/Ak4qFNnCMAE9fA-.jpg:large"></p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/07/jmvc-controller/">[javascriptMVC] JMVC導覽 - $.Controller</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Alive Kuo</span></span>
  

 - 
        








  


<time datetime="2012-02-07T09:39:00+08:00" pubdate data-updated="true">Feb 7<span>th</span>, 2012</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/javascriptmvc/'>javascriptMVC</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><h2>$.Controller - jQuery plugin factory</h2>

<p>JavaScriptMVC&#8217;s controllers are many things.  They are a jQuery plugin factory.  They can be used as a traditional view, making pagination widgets and grid controls.  Or, they can be used as a traditional controller, initializing and controllers and hooking them up to models.  Mostly, controller&#8217;s are a really great way of organizing your application&#8217;s code.</p>

<p>Controllers provide a number of handy features such as:</p>

<ul>
<li>jQuery plugin creation</li>
<li>automatic binding</li>
<li>default options</li>
<li>automatic determinism</li>
</ul>


<p>But controller&#8217;s most important feature is not obvious to any but the most hard-core JS ninjas.  The following code creates a tooltip like widget that displays itself until the document is clicked.</p>

<pre><code>$.fn.tooltip = function(){
    var el = this[0];

    $(document).click(function(ev){
        if(ev.target !== el){
            $(el).remove()
        }
    })

    $(el).show();
    return this;
 })
</code></pre>

<p>To use it, you&#8217;d add the element to be displayed to the page, and then call tooltip on it like:</p>

<pre><code>$("&lt;div class='tooltip'&gt;Some Info&lt;/div&gt;")
        .appendTo(document.body)
        .tooltip()
</code></pre>

<p>But, this code has a problem.  Can you spot it?  Here&#8217;s a hint. What if your application is long lived and lots of these tooltip elements are created?</p>

<p>The problem is this code leaks memory!  Every tooltip element, and any tooltip child elements, are kept in memory forever.  This is because the click handler is not removed from the document and has a closure reference to the element.</p>

<p>This is a frighteningly easy mistake to make.  jQuery removes all event handlers from elements that are removed from the page so developers often don&#8217;t have to worry about unbinding event handlers.  But in this case, we bound to something outside the widget&#8217;s element, the document, and did not unbind the event handler.</p>

<p>But within a Model-View-Controller architecture, Controllers listen to the View and Views listen to the Model.  You are constantly listening to events outside the widget&#8217;s element.  For example, the <code>nextPrev</code> widget from the <code>$.Model</code> section listens to updates in the paginate model:</p>

<pre><code>paginate.bind('updated.attr', function(){
    self.find('.prev')[this.canPrev() ? 'addClass' : 'removeClass']('enabled')
    self.find('.next')[this.canNext() ? 'addClass' : 'removeClass']('enabled');
})
</code></pre>

<p>But, it doesn&#8217;t unbind from paginate!  Forgetting to remove event handlers is potentially a source of errors.  However, both the tooltip and nextPrev would not error.  Instead both will silently kill an application&#8217;s performance.  Fortunately, $.Controller makes this <strong>easy</strong> and <strong>organized</strong>.  We can write tooltip like:</p>

<pre><code>$.Controller('Tooltip',{
    init: function(){
        this.element.show()
    },
    "{document} click": function(el, ev){
        if(ev.target !== this.element[0]){
            this.element.remove()
        }
    }
})
</code></pre>

<p>When the document is clicked and the element is removed from the DOM, $.Controller will automatically unbind the document click handler.</p>

<p>$.Controller can do the same thing for the nextPrev widget binding to the the paginate model:</p>

<pre><code>$.Controller('Nextprev',{
    ".next click" : function(){
        var paginate = this.options.paginate;
        paginate.attr('offset', paginate.offset+paginate.limit);
    },
    ".prev click" : function(){
        var paginate = this.options.paginate;
        paginate.attr('offset', paginate.offset-paginate.limit );
    },
    "{paginate} updated.attr" : function(ev, paginate){
        this.find('.prev')[paginate.canPrev() ? 'addClass' : 'removeClass']('enabled')
        this.find('.next')[paginate.canNext() ? 'addClass' : 'removeClass']('enabled');
    }
})

// create a nextprev control
$('#pagebuttons').nextprev({ paginate: new Paginate() })
</code></pre>

<p>If the element <code>#pagebuttons</code> is removed from the page, the Nextprev controller instance will automatically unbind from the paginate model.</p>

<p>Now that your appetite for error free code is properly whetted, the following details how $.Controller works.</p>

<h3>Overview</h3>

<p>$.Controller inherits from $.Class.  To create a Controller class, call <code>$.Controller( NAME, classProperties, instanceProperties )</code> with the name of your controller, static methods, and instance methods.  The following is the start of a reusable list widget:</p>

<pre><code>$.Controller("List", {
    defaults : {}
},{
    init : function(){  },
        "li click" : function(){  }
})
</code></pre>

<p>When a controller class is created, it creates a jQuery helper method of a similar name.  The helper method is primarily use to create new instances of controller on elements in the page.  The helper method name is the controller&#8217;s name underscored, with any periods replaced with underscores.  For example, the helper for <code>$.Controller('App.FooBar')</code> is <code>$(el).app_foo_bar()</code>.</p>

<h3>Controller Instantiation</h3>

<p>To create a controller instance, you can call <code>new Controller(element, options)</code> with a HTMLElment or jQuery-wrapped element and an optional options object to configure the controller.  For example:</p>

<pre><code>new List($('ul#tasks'), {model : Task});
</code></pre>

<p>You can also use the jQuery helper method to create a List controller instance on the <code>#tasks</code> element like:</p>

<pre><code>$('ul#tasks').list({model : Task})
</code></pre>

<p>When a controller is created, it calls the controller&#8217;s prototype init method with:</p>

<ul>
<li><code>this.element</code> set to the jQuery-wrapped HTML element</li>
<li><code>this.options</code> set to the options passed to the controller merged with the class&#8217;s <code>defaults</code> object.</li>
</ul>


<p>The following updates the List controller to request tasks from the model and render them with an optional template passed to the list:</p>

<pre><code>$.Controller("List", {
    defaults : {
        template: "items.ejs"
    }
},{
    init : function(){
        this.element.html( this.options.template, this.options.model.findAll() ); 
    },
    "li click" : function(){  }
})
</code></pre>

<p>We can now configure Lists to render tasks with a template we provide.  How flexible!</p>

<pre><code>$('#tasks').list({model: Task, template: "tasks.ejs"});
$('#users').list({model: User, template: "users.ejs"})
</code></pre>

<p>If we don&#8217;t provide a template, List will default to using items.ejs.</p>

<h3>Event Binding</h3>

<p>As mentioned in $.Controller&#8217;s introduction, it&#8217;s most powerful feature is it&#8217;s ability to bind and unbind event handlers.</p>

<p>When a controller is created, it looks for action methods.  Action methods are methods that look like event handlers.  For example, <code>"li click"</code>.  These actions are bound using <code>jQuery.bind</code> or <code>jQuery.delegate</code>.  When the controller is destroyed, by removing the controller&#8217;s element from the page or calling destroy on the controller, these events are unbound, preventing memory leaks.</p>

<p>The following are examples of actions with descriptions of what the listen for:</p>

<ul>
<li><code>"li click"</code> - clicks on or within <code>li</code> elements within the controller element.</li>
<li><code>"mousemove"</code> - mousemoves within the controller element.</li>
<li><code>"{window} click"</code> - clicks on or within the window.</li>
</ul>


<p>Action functions get called back with the jQuery-wrapped element or object that the event happened on and the event.  For example:</p>

<pre><code>"li click": function( el, ev ) {
    assertEqual(el[0].nodeName, "li" )
        assertEqual(ev.type, "click")
}
</code></pre>

<h3>Templated Actions</h3>

<p>$.Controller supports templated actions.  Templated actions can be used to bind to other objects, customize the event type, or customize the selector.</p>

<p>Controller replaces the parts of your actions that look like <code>{OPTION}</code> with a value in the controller&#8217;s options or the window.</p>

<p>The following is a skeleton of a menu that lets you customize the menu to show sub-menus on different events:</p>

<pre><code>$.Controller("Menu",{
    "li {openEvent}" : function(){
    // show subchildren
    }
});

//create a menu that shows children on click
$("#clickMenu").menu({openEvent: 'click'});

//create a menu that shows children on mouseenter
$("#hoverMenu").menu({openEvent: 'mouseenter'});
</code></pre>

<p>We could enhance the menu further to allow customization of the menu element tag:</p>

<pre><code>$.Controller("Menu",{
    defaults : {menuTag : "li"}
},{
    "{menuTag} {openEvent}" : function(){
    // show subchildren
    }
});

$("#divMenu").menu({menuTag : "div"})
</code></pre>

<p>Templated actions let you bind to elements or objects outside the controller&#8217;s element.  For example, the Task model from the $.Model section produces a &#8220;created&#8221; event when a new Task is created.  We can make our list widget listen to tasks being created and automatically add these tasks to the list like:</p>

<pre><code>$.Controller("List", {
    defaults : {
        template: "items.ejs"
    }
},{
    init : function(){
        this.element.html( this.options.template, this.options.model.findAll() ); 
    },
    "{Task} created" : function(Task, ev, newTask){
        this.element.append(this.options.template, [newTask])
    }
})
</code></pre>

<p>The <code>"{Task} create"</code> gets called with the Task model, the created event, and the newly created Task. The function uses the template to render a list of tasks (in this case there is only one) and add the resulting html to the element.</p>

<p>But, it&#8217;s much better to make List work with any model.  Instead of hard coding tasks, we&#8217;ll make controller take a model as an option:</p>

<pre><code>$.Controller("List", {
    defaults : {
        template: "items.ejs",
        model: null
    }
},{
    init : function(){
        this.element.html( this.options.template, this.options.model.findAll() ); 
    },
    "{model} created" : function(Model, ev, newItem){
        this.element.append(this.options.template, [newItem])
    }
})
// create a list of tasks
$('#tasks').list({model: Task, template: "tasks.ejs"});
</code></pre>

<h2>Putting it all together - an abstract CRUD list.</h2>

<p>Now we will enhance the list to not only add items when they are created, but update them and remove them when they are destroyed.  To do this, we start by listening to updated and destroyed:</p>

<pre><code>"{model} updated" : function(Model, ev, updatedItem){
    // find and update the LI for updatedItem
},
"{model} destroyed" : function(Model, ev, destroyedItem){
    // find and remove the LI for destroyedItem
}
</code></pre>

<p>You&#8217;ll notice here we have a problem.  Somehow, we need to find the element that represents particular model instance.  To do this, we need to label the element as belonging to the model instance.  Fortunately, $.Model and $.View make labeling an element with an instance and finding that element very easy.</p>

<p>To label the element with a model instance within an EJS view, you simply write the model instance to the element.  The following might be <code>tasks.ejs</code></p>

<pre><code>&lt;% for(var i =0 ; i &lt; this.length; i++){ %&gt;
&lt;% var task = this[i]; %&gt;
    &lt;li &lt;%= task %&gt; &gt; &lt;%= task.name %&gt; &lt;/li&gt;
&lt;% } %&gt;
</code></pre>

<p><code>tasks.ejs</code> iterates through a list of tasks.  For each task, it creates an <code>li</code> element with the task&#8217;s name.  But, it also adds the task to the element&#8217;s jQuery data with: <code>&lt;li &lt;%= task %&gt; &gt;</code>.</p>

<p>To later get that element given a model instance, you can call <code>modelInstance.elements([CONTEXT])</code>.  This returns the jQuery-wrapped elements the represent the model instance.</p>

<p>Putting it together, list becomes:</p>

<pre><code>$.Controller("List", {
    defaults : {
        template: "items.ejs",
        model: null
    }
},{
    init : function(){
        this.element.html( this.options.template, this.options.model.findAll() ); 
    },
    "{model} created" : function(Model, ev, newItem){
        this.element.append(this.options.template, [newItem])
    },
    "{model} updated" : function(Model, ev, updatedItem){
        updatedItem.elements(this.element)
        .replaceWith(this.options.template, [updatedItem])
    },
    "{model} destroyed" : function(Model, ev, destroyedItem){
        destroyedItem.elements(this.element)
         .remove()
    }
});

// create a list of tasks
$('#tasks').list({model: Task, template: "tasks.ejs"});
</code></pre>

<p>It&#8217;s almost frighteningly easy to create abstract, reusable, memory safe widgets with JavaScriptMVC.</p>

<h3>Determinism</h3>

<p>Controllers provide automatic determinism for your widgets.  This means you can look at a controller and know where in the DOM they operate, and vice versa.</p>

<p>First, when a controller is created, it adds its underscored name as a class name on the parent element.</p>

<pre><code>&lt;div id='historytab' class='history_tabs'&gt;&lt;/div&gt;
</code></pre>

<p>You can look through the DOM, see a class name, and go find the corresponding controller.</p>

<p>Second, the controller saves a reference to the parent element in this.element.  On the other side, the element saves a reference to the controller instance in jQuery.data.</p>

<pre><code>$("#foo").data('controllers')
</code></pre>

<p>A helper method called controller (or controllers) using the jQuery.data reference to quickly look up controller instance on any element.</p>

<pre><code>$("#foo").controller() // returns first controller found
$("#foo").controllers() // returns an array of all controllers on this element
</code></pre>

<p>Finally, actions are self labeling, meaning if you look at a method called &#8220;.foo click&#8221;, there is no ambiguity about what is going on in that method.</p>

<h3>Responding to Actions</h3>

<p>If you name an event with the pattern &#8220;selector action&#8221;, controllers will set these methods up as event handlers with event delegation.  Even better, these event handlers will automatically be removed when the controller is destroyed.</p>

<pre><code>".todo mouseover" : function( el, ev ) {}
</code></pre>

<p>The el passed as the first argument is the target of the event, and ev is the jQuery event.  Each handler is called with &#8220;this&#8221; set to the controller instance, which you can use to save state.</p>

<h3>Removing Controllers</h3>

<pre><code>Part of the magic of controllers is their automatic removal and cleanup.  Controllers bind to the special destroy event, which is triggered whenever an element is removed via jQuery.  So if you remove an element that contains a controller with el.remove() or a similar method, the controller will remove itself also.  All events bound in the controller will automatically clean themselves up.
</code></pre>

<h3>Defaults</h3>

<pre><code>Controllers can be given a set of default options.  Users creating a controller pass in a set of options, which will overwrite the defaults if provided.

In this example, a default message is provided, but can is overridden in the second example by "hi".

$.Controller("Message", {
    defaults : {
        message : "Hello World"
    }
},{
    init : function(){
        this.element.text(this.options.message);
    }
})

$("#el1").message(); //writes "Hello World"
$("#el12").message({message: "hi"}); //writes "hi"
</code></pre>

<h3>Parameterized Actions</h3>

<p>Controllers provide the ability to set either the selector or action of any event via a customizable option.  This makes controllers potentially very flexible.  You can create more general purpose event handlers and instantiate them for different situations.</p>

<p>The following listens to li click for the controller on #clickMe, and &#8220;div mouseenter&#8221; for the controller on #touchMe.</p>

<pre><code>$.Controller("Hello", {
    defaults: {item: “li”, helloEvent: “click”}
}, {
    “{item} {helloEvent}" : function(el, ev){
        alert('hello')  el // li, div
    }
})

$("#clickMe").hello({item: “li”, helloEvent : "click"});
$("#touchMe").hello({item: “div”, helloEvent : "mouseenter"});
</code></pre>

<h3>Pub / Sub</h3>

<p>JavaScriptMVC applications often use OpenAjax event publish and subscribe as a good way to globally notify other application components of some interesting event.  The jquery/controller/subscribe method lets you subscribe to (or publish) OpenAjax.hub messages:</p>

<pre><code>$.Controller("Listener",{
    "something.updated subscribe" : function(called, data){}
})

// called elsewhere
this.publish("some.event", data);
</code></pre>

<h3>Special Events</h3>

<p>Controllers provide support for many types of special events.  Any event that is added to jQuery.event.special and supports bubbling can be listened for in the same way as a DOM event like click.</p>

<pre><code>$.Controller("MyHistory",{
    "history.pagename subscribe" : function(called, data){
        //called when hash = #pagename
    }
})
</code></pre>

<p>Drag, drop, hover, and history and some of the more widely used controller events.  These events will be discussed later.</p>

<p>controller is created, it adds its underscored name as a class name on the parent element.</p>

<pre><code>&lt;div id='historytab' class='history_tabs'&gt;&lt;/div&gt;
</code></pre>

<p>You can look through the DOM, see a class name, and go find the corresponding controller.</p>

<p>Second, the controller saves a reference to the parent element in this.element.  On the other side, the element saves a reference to the controller instance in jQuery.data.</p>

<pre><code>$("#foo").data('controllers')
</code></pre>

<p>A helper method called controller (or controllers) using the jQuery.data reference to quickly look up controller instance on any element.</p>

<pre><code>$("#foo").controller() // returns first controller found
$("#foo").controllers() // returns an array of all controllers on this element
</code></pre>

<p>Finally, actions are self labeling, meaning if you look at a method called &#8220;.foo click&#8221;, there is no ambiguity about what is going on in that method.</p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/06/jquery-layout-cross-slick-grid/">[jQuery]UI.layout*SlickGrid - 使SlickGrid在layout改變大小時能自動filter高度</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Alive Kuo</span></span>
  

 - 
        








  


<time datetime="2012-02-06T13:42:00+08:00" pubdate data-updated="true">Feb 6<span>th</span>, 2012</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/jquery/'>jquery</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><p>目前只有一種作法，利用publish/subscribe告訴SlickGrid要去追parent的高度</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">$</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="s2">&quot;units/set_grid_height&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">new_height</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">grid_opts</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="nx">new_height</span><span class="p">;</span>
</span><span class='line'>  <span class="nx">resize</span><span class="p">();</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// ...</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// grid = the jQuery element that represents the SlickGrid</span>
</span><span class='line'><span class="c1">// slick = the instantiated slickgrid</span>
</span><span class='line'><span class="kd">function</span> <span class="nx">resize</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">grid</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;height&#39;</span><span class="p">,</span> <span class="nx">grid_opts</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>
</span><span class='line'>  <span class="nx">slick</span><span class="p">.</span><span class="nx">resizeCanvas</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">layout</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">layout</span><span class="p">({</span>
</span><span class='line'>  <span class="nx">center</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">onresize</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">el</span><span class="p">,</span> <span class="nx">state</span><span class="p">,</span> <span class="nx">opts</span><span class="p">,</span> <span class="nx">layout_name</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>          <span class="nx">$</span><span class="p">.</span><span class="nx">publish</span><span class="p">(</span><span class="s2">&quot;units/set_grid_height&quot;</span><span class="p">,</span> <span class="p">[</span><span class="nx">state</span><span class="p">.</span><span class="nx">innerHeight</span><span class="p">]);</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>
</span><span class='line'><span class="nx">$</span><span class="p">.</span><span class="nx">publish</span><span class="p">(</span><span class="s2">&quot;units/set_grid_height&quot;</span><span class="p">,</span> <span class="p">[</span><span class="nx">layout</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">center</span><span class="p">.</span><span class="nx">innerHeight</span><span class="p">]);</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


</div>

      </article>
    
    </div>
      <div class="row">
        <ul class="pager">
          
            <li class="previous">
              <a href="/blog/page/5/">&larr; Older</a>
            </li>
          
          
            <li class="next">
              <a class="next" href="/blog/page/3/">Newer &rarr;</a>
            </li>
          
        </ul>
      </div>
  </div>
</div>


  <div id="footer-widgets">
  <div class="container">
    <div class="row">
  <div class="span3">
    <h2>recent posts</h2>
    <ul class="recent_posts">
      
        <li>
          <a href="/blog/2013/07/16/audio-competing-in-fxos/">[Fx OS] Background media play</a>
        </li>
      
        <li>
          <a href="/blog/2013/07/10/system-modulization-plan/">Proposal: System Modulization Plan</a>
        </li>
      
        <li>
          <a href="/blog/2013/07/05/transition-state-machine/">[Window Management] Transition state machine</a>
        </li>
      
        <li>
          <a href="/blog/2013/07/05/page-visibility-on-firefox-os/">HTML5 Page visibility on Fx OS</a>
        </li>
      
        <li>
          <a href="/blog/2013/07/05/one-year-at-mozilla/">My first year at Mozilla</a>
        </li>
      
    </ul>
    <h2><a href="/blog/archives">archives</a></h2>
  </div>
  <div class="span3">
    

  </div>
  <div class="span4">
    
<h2>twitter</h2>
<a href="https://twitter.com/alivedise" class="twitter-follow-button" data-show-count="true" data-lang="en">Follow @alivedise</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
<div class="tweet" data-twitter-user="alivedise">
</div>


  </div>
  <div class="span2">
    <h2>found on</h2>

<a href="https://github.com/alivedise/" rel="tooltip" title="Github"><img class="social_icon" title="Github" alt="github icon" src="/images/glyphicons_381_github.png"></a>







<a href="http://twitter.com/alivedise" rel="tooltip" title="Twitter"><img class="social_icon" title="Twitter" alt="Twitter icon" src="/images/glyphicons_391_twitter_t.png"></a>








  </div>
</div>

  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-left">
  <a href="/">Ascheriit</a>
  - Copyright &copy; 2013 - Alive Kuo
</p>
<p class="pull-right">
  <span>Powered by <a href="http://octopress.org/">Octopress</a>.</span>
  
    <span>Designed by <a href="http://www.AdrianArtiles.com">Adrian Artiles</a>.</span>
  
</p>

  </div>
</footer>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script>window.jQuery || document.write('<script src="/javascripts/libs/jquery-1.7.2.min.js" type="text/javascript"><\/script>')</script>
<script src="/javascripts/libs/bootstrap.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.tweet.js" type="text/javascript"></script>
<script src="/javascripts/jquery.instagram.js" type="text/javascript"></script>
<script src="/javascripts/libs/jquery.masonry.min.js" type="text/javascript"></script>
<script src="/javascripts/custom.js" type="text/javascript"></script>


<script type="text/javascript">
      var disqus_shortname = 'ascheriit';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




</body>
</html>
