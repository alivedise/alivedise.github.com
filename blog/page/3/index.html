

<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Ascheriit</title>
  <meta name="author" content="Alive Kuo">
  <link rel="author" href="humans.txt">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  
    
  
  <meta name="description" content=" Test ">
  
  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://alivedise.github.com/blog/page/3/">
  <link href="/favicon.png" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Cantarell' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Ascheriit" type="application/atom+xml">
  <meta name="og:type" content="website" />
  <meta name="og:site_name" content="Ascheriit" />
  <meta name="og:title" content="Ascheriit" />
  <meta name="og:description" content=" Test " />
  <meta name="og:url" content="http://alivedise.github.com/blog/page/3/index.html"/>
  <meta name="url" content="http://alivedise.github.com/blog/page/3/index.html">
  
  <meta name="distribution" content="global">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-29151691-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <div id="front-wrapper">
  <div id="hero">
    <div id="hero-inner" class="container">
      <div class="span10 offset1">
  <h1>
    Ascheriit
  </h1>
  <h2>I am Alive, a Front-end Developer from Taiwan.</h2>
</div>

    </div>
  </div>
  <section id="sub-hero">
    <div class="container">
      <div class="row">
  <div class="span4">
    <h2>about me</h2>
<pre>
  (function() {
    var Alive = new WebDeveloper();
    Alive.live(_.Taipei);
    Alive.work(_.Mozilla);
    Alive.speak(_.Javascript);
  }());
</pre>
  </div>
  <div class="span6">
    
<h2>recent public projects</h2>
<dl id="gh_repos" class="dl-horizontal" data-github-user="alivedise" data-github-repo-count="5" data-github-skip-forks="true">
  <dd class="loading">Status updating&#8230;</dd>
</dl>
<script src="/javascripts/github.js" type="text/javascript"> </script>
<script src="/javascripts/libs/jXHR.js" type="text/javascript"> </script>


  </div>
  <div class="span2">
    <h2>found on</h2>

<a href="https://github.com/alivedise/" rel="tooltip" title="Github"><img class="social_icon" title="Github" alt="github icon" src="/images/glyphicons_381_github.png"></a>







<a href="http://twitter.com/alivedise" rel="tooltip" title="Twitter"><img class="social_icon" title="Twitter" alt="Twitter icon" src="/images/glyphicons_391_twitter_t.png"></a>








  </div>
</div>

    </div>
  </section>
  <div class="container">
    <div class="row" id="post-container">
    
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/05/09/animation-cross-deferred/">[jQuery] jQuery Animation * jQuery Deferred</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Alive Kuo</span></span>
  

 - 
        








  


<time datetime="2012-05-09T17:53:00+08:00" pubdate data-updated="true">May 9<span>th</span>, 2012</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/jquery/'>jquery</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><p>jQuery 1.6開始animation也支援Deferred操作了!</p>

<pre><code>$.when($('#timeline').animate({ left: 100 }),  $.ajax({
    url: 'fake.json', dataType: 'json'
})).done(function(){
    $('#result').text('done!');
});
</code></pre>

<p>測試用的jsfiddle：</p>

<iframe style="width: 100%; height: 300px" src="http://jsfiddle.net/wLHaG/embedded/js,resources,html,css,result/light/"></iframe>

</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/05/05/excel-web/">讓Excel與網頁互相溝通</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Alive Kuo</span></span>
  

 - 
        








  


<time datetime="2012-05-05T11:10:00+08:00" pubdate data-updated="true">May 5<span>th</span>, 2012</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/web/'>Web</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><h1>前言</h1>

<p>同事在做一個Excel的應用，主要使用VBA，
這語言真是一個十年沒長進的東西，
不過我嘗試做了一個網頁，讓VBA可以透過Office內建的WebBrowser元件跟網頁之間互相溝通，
以達到利用Excel表格內容控制網頁行為的效果。</p>

<h1>網頁 -> Excel</h1>

<p>其實能用的方法很少，我想到的是利用TitleChange，
把網頁要告訴Excel的訊息寫進document.title，這樣Excel內的WebBrowser會觸發TitleChange</p>

<pre><code>Private Sub WebBrowser1_TitleChange(ByVal Text As String)
    If Text &lt;&gt; "loading" Then
        ...
    End If
End Sub
</code></pre>

<h1>Excel -> 網頁</h1>

<p>Excel可以去寫某個DOM的內容，寫完之後可以去操作某個按鈕讓網頁知道訊息寫完了</p>

<pre><code>ActiveSheet.WebBrowser1.Document.getElementById("excel").innerHtml = "test"
ActiveSheet.WebBrowser1.Document.getElementById("import").Click
</code></pre>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/05/05/gaia/">Setup Gaia on Mac With Firefox Nightly Build</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Alive Kuo</span></span>
  

 - 
        








  


<time datetime="2012-05-05T10:40:00+08:00" pubdate data-updated="true">May 5<span>th</span>, 2012</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/gaia/'>gaia</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><ul>
<li><p>本文來自<a href="https://github.com/jrburke/gaia-devserver">https://github.com/jrburke/gaia-devserver</a></p></li>
<li><p>安裝Node
 PKG: <a href="https://sites.google.com/site/nodejsmacosx/">https://sites.google.com/site/nodejsmacosx/</a></p></li>
<li>安裝<a href="http://nightly.mozilla.org/">Firefox Nightly Build</a></li>
<li><p>修改<code>/etc/hosts</code>加入</p>

<p> 127.0.0.1     gaiamobile.org</p></li>
<li><p>安裝gaia</p>

<p> mkdir b2g
 cd b2g
 git clone git://github.com/andreasgal/gaia.git
 git clone git://github.com/jrburke/gaia-devserver.git
 cd gaia
 GAIA_DOMAIN=gaiamobile.org:8424 make
 cd ..
 node gaia-devserver/devserver.js docRoot=gaia/apps</p></li>
<li><p>啟動Firefox Nightly</p>

<p> /Applications/FirefoxNightly.app/Contents/MacOS/firefox -profile /Users/alive/b2g/gaia/profile &#8211;no-remote http://homescreen.gaiamobile.org:8424</p></li>
<li><p>開新分頁<code>about:config</code>，把<code>browser.offline-apps.notify</code>設成false</p></li>
<li>加入一個新的Boolean設定值名為<code>dom.w3c_touch_events.enabled</code>設成true</li>
<li>完成了！
<img src="https://lh6.googleusercontent.com/-an0dqr9lhAM/T6Qjwhk5emI/AAAAAAAAC5k/6-4SRu5Wv7Q/s1162/%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7+2012-05-05+%E4%B8%8A%E5%8D%882.44.59.png"></li>
</ul>

</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/03/01/eimorhc/">[FF13-2] Eimorhc - Timeline Puzzle Creator 以及一些心得</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Alive Kuo</span></span>
  

 - 
        








  


<time datetime="2012-03-01T19:47:00+08:00" pubdate data-updated="true">Mar 1<span>st</span>, 2012</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/javascriptmvc/'>javascriptmvc</a>, <a class='category' href='/blog/categories/jquery/'>jquery</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><h3>簡介</h3>

<p>既然都做解題程式了，乾脆連出題程式也作一下吧</p>

<h4>命名</h4>

<p>Eimorhc是Chromie的倒字。（本人極愛倒字）
Chromie是解題者，出題者當然是要倒過來囉。</p>

<h3>實作細節</h3>

<h4>Canvas圖形變換</h4>

<ol>
<li>第一個碰到的問題是要旋轉指針&#8230;而且要旋轉兩根。網路上有不少使用canvas實現時鐘的作品，不過我大致看了一下決定自己用canvas刻。

<h5>參考網頁</h5>

一樣是MDN的<a href="https://developer.mozilla.org/zh_tw/Canvas_%E6%95%99%E5%AD%B8">Canvas教學</a>

<h5>Canvas的save/restore</h5>

<p>在這邊卡了一下，
以我的理解restore跟save要成對使用，是用來區隔不同座標變換組合的起點跟終點。
以下用畫這個時鐘的函式當範例：</p></li>
</ol>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>renderClock: function(){
</span><span class='line'>  var canvas = this.element.find('#canvas canvas')[0], self = this;
</span><span class='line'>  var ctx = canvas.getContext("2d");
</span><span class='line'>  var options = self.constructor.defaults.canvas;
</span><span class='line'>  ctx.clearRect(0, 0, canvas.width, canvas.height);
</span><span class='line'>
</span><span class='line'>  ctx.beginPath();
</span><span class='line'>  ctx.arc(options.x,options.y,options.C,0,Math.PI*2,true); // 外圈
</span><span class='line'>  ctx.fillStyle = 'black';
</span><span class='line'>  ctx.font= 'bold 18px sans-serif';
</span><span class='line'>  ctx.fill();
</span><span class='line'>  $.each(self.puzzle, function(index, value){
</span><span class='line'>          var slice = index/self.puzzle.length;
</span><span class='line'>          if(self.available[index] && !self.steped[index])
</span><span class='line'>          {
</span><span class='line'>              ctx.beginPath();
</span><span class='line'>              ctx.fillStyle = "#0186d1";
</span><span class='line'>              ctx.strokeStyle = "#0186d1";
</span><span class='line'>              ctx.arc(options.x+options.r*Math.sin(2*Math.PI*slice), options.y-options.r*Math.cos(2*Math.PI*slice), 10, 0, Math.PI*2, true);   
</span><span class='line'>              ctx.fill();
</span><span class='line'>              ctx.closePath();
</span><span class='line'>          }
</span><span class='line'>          if(!self.steped[index])
</span><span class='line'>          {
</span><span class='line'>              ctx.fillStyle = self.constructor.defaults.color[value];
</span><span class='line'>              ctx.fillText(value, options.x-6+options.r*Math.sin(2*Math.PI*slice), options.y+6-options.r*Math.cos(2*Math.PI*slice));   
</span><span class='line'>          }
</span><span class='line'>      });
</span><span class='line'>  ctx.save();</span></code></pre></td></tr></table></div></figure>


<p>到這裡為止是畫時鐘大圓跟刻度，不需要用到座標變換。
這裡將畫布作第一次乾淨的存檔。
也就是說，平移跟旋轉量都是0。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'>       <span class="nx">ctx</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">options</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span>
</span><span class='line'>      <span class="nx">ctx</span><span class="p">.</span><span class="nx">rotate</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">*</span><span class="p">((</span><span class="k">this</span><span class="p">.</span><span class="nx">vars</span><span class="p">.</span><span class="nx">plus</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">vars</span><span class="p">.</span><span class="nx">angle</span><span class="p">)</span><span class="o">/</span><span class="k">this</span><span class="p">.</span><span class="nx">puzzle</span><span class="p">.</span><span class="nx">length</span><span class="p">));</span>
</span><span class='line'>      <span class="nx">ctx</span><span class="p">.</span><span class="nx">drawImage</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">constructor</span><span class="p">.</span><span class="nx">img</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="o">-</span><span class="nx">options</span><span class="p">.</span><span class="nx">y</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">37</span><span class="p">);</span>
</span><span class='line'>      <span class="nx">ctx</span><span class="p">.</span><span class="nx">restore</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p>開始畫第一根指針，需要旋轉<code>angle+plus</code>角度。
畫完之後就呼叫<code>restore()</code>回到旋轉量是0的時候。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'>   <span class="nx">ctx</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p>這裡還要再存一次乾淨的狀態給後面的畫布用。
因為剛剛save過得狀態已經被restore用掉了！</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'>   <span class="nx">ctx</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">options</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span>
</span><span class='line'>  <span class="nx">ctx</span><span class="p">.</span><span class="nx">rotate</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">*</span><span class="p">((</span><span class="k">this</span><span class="p">.</span><span class="nx">vars</span><span class="p">.</span><span class="nx">angle</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">vars</span><span class="p">.</span><span class="nx">minus</span><span class="p">)</span><span class="o">/</span><span class="k">this</span><span class="p">.</span><span class="nx">puzzle</span><span class="p">.</span><span class="nx">length</span><span class="p">));</span>
</span><span class='line'>  <span class="nx">ctx</span><span class="p">.</span><span class="nx">drawImage</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">constructor</span><span class="p">.</span><span class="nx">img</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="o">-</span><span class="nx">options</span><span class="p">.</span><span class="nx">y</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">37</span><span class="p">);</span>
</span><span class='line'>  <span class="nx">ctx</span><span class="p">.</span><span class="nx">restore</span><span class="p">();</span>
</span><span class='line'>  <span class="nx">ctx</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>全部做完。</p>

<h5>利用$.animate的動畫來控制Canvas</h5>

<p>這邊參考了<a href="http://acko.net/blog/abusing-jquery-animate-for-fun-and-profit-and-bacon/">http://acko.net/blog/abusing-jquery-animate-for-fun-and-profit-and-bacon/</a>, 主要的技巧是</p>

<h6>1. 對$.fx進行改寫，讓$.animate可以接受自訂的屬性</h6>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'>   <span class="kd">var</span> <span class="nx">$_fx_step_default</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">step</span><span class="p">.</span><span class="nx">_default</span><span class="p">;</span>
</span><span class='line'>  <span class="nx">$</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">step</span><span class="p">.</span><span class="nx">_default</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">fx</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">fx</span><span class="p">.</span><span class="nx">elem</span><span class="p">.</span><span class="nx">customAnimate</span><span class="p">)</span> <span class="k">return</span> <span class="nx">$_fx_step_default</span><span class="p">(</span><span class="nx">fx</span><span class="p">);</span>
</span><span class='line'>      <span class="nx">fx</span><span class="p">.</span><span class="nx">elem</span><span class="p">[</span><span class="nx">fx</span><span class="p">.</span><span class="nx">prop</span><span class="p">]</span> <span class="o">=</span> <span class="nx">fx</span><span class="p">.</span><span class="nx">now</span><span class="p">;</span>
</span><span class='line'>      <span class="nx">fx</span><span class="p">.</span><span class="nx">elem</span><span class="p">.</span><span class="nx">updated</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<h6>2. 利用一個中介div DOM，讓$.animate去動態改變自訂屬性。</h6>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'>   <span class="k">this</span><span class="p">.</span><span class="nx">vars</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;div&gt;&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">angle</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">plus</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">minus</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">end</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">customAnimate</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">updated</span><span class="o">:</span> <span class="kc">true</span>
</span><span class='line'>  <span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<h6>3. Canvas的繪圖函式中，直接拿中介DOM的屬性來繪圖。</h6>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">ctx</span><span class="p">.</span><span class="nx">rotate</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">*</span><span class="p">((</span><span class="k">this</span><span class="p">.</span><span class="nx">vars</span><span class="p">.</span><span class="nx">plus</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">vars</span><span class="p">.</span><span class="nx">angle</span><span class="p">)</span><span class="o">/</span><span class="k">this</span><span class="p">.</span><span class="nx">puzzle</span><span class="p">.</span><span class="nx">length</span><span class="p">));</span>
</span></code></pre></td></tr></table></div></figure>


<h6>4. 任何時候想要讓Canvas有動畫只要直接對中介DIV作animate</h6>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'>   <span class="nx">$</span><span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">vars</span><span class="p">).</span><span class="nx">animate</span><span class="p">({</span> <span class="nx">angle</span><span class="o">:</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">plus</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">minus</span><span class="o">:</span> <span class="mi">0</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">duration</span><span class="o">:</span> <span class="mi">2000</span><span class="p">}).</span><span class="nx">queue</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span> 
</span><span class='line'>      <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">dequeue</span><span class="p">();</span>
</span><span class='line'>  <span class="p">}).</span><span class="nx">animate</span><span class="p">({</span> <span class="nx">angle</span><span class="o">:</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">plus</span><span class="o">:</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">minus</span><span class="o">:</span> <span class="o">-</span><span class="nx">value</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">duration</span><span class="o">:</span> <span class="mi">2000</span><span class="p">}).</span><span class="nx">queue</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>      <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">dequeue</span><span class="p">();</span>
</span><span class='line'>  <span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<h6>5.建立一個定時函數檢查update的值</h6>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'>   <span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">self</span><span class="p">.</span><span class="nx">vars</span><span class="p">.</span><span class="nx">updated</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
</span><span class='line'>      <span class="nx">self</span><span class="p">.</span><span class="nx">vars</span><span class="p">.</span><span class="nx">updated</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>                  
</span><span class='line'>      <span class="nx">self</span><span class="p">.</span><span class="nx">renderClock</span><span class="p">();</span>
</span><span class='line'>  <span class="p">},</span> <span class="mi">30</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Screenshot &amp; Github demo pages</h3>

<p><img src="http://i.imgur.com/29wCE.jpg">
<a href="http://alivedise.github.com/Eimorhc/">http://alivedise.github.com/Eimorhc/</a></p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/29/chromie/">[Ff13-2] Chromie - Time Labyrinth Breaker</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Alive Kuo</span></span>
  

 - 
        








  


<time datetime="2012-02-29T14:29:00+08:00" pubdate data-updated="true">Feb 29<span>th</span>, 2012</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/jquery/'>jQuery</a>, <a class='category' href='/blog/categories/javascriptmvc/'>javascriptMVC</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><h3>簡介</h3>

<ul>
<li>ff13-2裡面有個時鐘小遊戲，<a href="http://www.youtube.com/watch?v=ngJyJDLkRh0&amp;feature=related">影片參考</a>。</li>
<li>說穿了就是一個排列組合遊戲，比起其他小遊戲這個難度高很多，所以網路上有一些人寫了程式專門解這個小遊戲。其實有很多解答版本，但是都不太好用，UI也&#8230;。乾脆自己寫一個！</li>
<li>有參考某個flash實做，不過我用純html5+js實現。js核心是jquery1.7.1，框架是javascriptMVC。</li>
</ul>


<h3>命名</h3>

<h4>Chromie = 克羅米</h4>

<p>克羅米是魔獸世界WoW中擁有時間穿梭能力的種族-青銅龍族中的一員。
<a href="http://www.wowwiki.com/Chromie">克羅米@wow wiki</a></p>

<h3>實做</h3>

<ol>
<li>尋徑遞迴演算法
核心片段</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">divergence</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">current</span><span class="p">,</span> <span class="nx">attractor_fields</span><span class="p">,</span> <span class="nx">paths</span><span class="p">,</span> <span class="nx">dir</span><span class="p">){</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">attractor_fields</span><span class="p">[</span><span class="nx">current</span><span class="p">];</span>
</span><span class='line'>  <span class="k">if</span><span class="p">(</span><span class="nx">value</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="c1">//paths.push(attractor_fields[current].toString()+&#39;[&#39;+(current+1)+&#39;]&#39;+dir);</span>
</span><span class='line'>  <span class="nx">paths</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">current</span><span class="p">);</span>
</span><span class='line'>  <span class="nx">attractor_fields</span><span class="p">[</span><span class="nx">current</span><span class="p">]</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</span><span class='line'>  <span class="k">if</span><span class="p">(</span><span class="nx">paths</span><span class="p">.</span><span class="nx">length</span> <span class="o">==</span> <span class="nx">attractor_fields</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="k">this</span><span class="p">.</span><span class="nx">renderSolution</span><span class="p">(</span><span class="nx">paths</span><span class="p">);</span>
</span><span class='line'>      <span class="k">this</span><span class="p">.</span><span class="nx">renderHistroy</span><span class="p">(</span><span class="nx">paths</span><span class="p">);</span>
</span><span class='line'>      <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;#steinsgate span&#39;</span><span class="p">).</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
</span><span class='line'>          <span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;#steinsgate&#39;</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
</span><span class='line'>      <span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;#steinsgate&#39;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">paths</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span><span class="o">+</span><span class="s1">&#39;&lt;br/&gt;&#39;</span><span class="p">);</span>
</span><span class='line'>      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">path_fork1</span> <span class="o">=</span> <span class="nx">paths</span><span class="p">.</span><span class="nx">slice</span><span class="p">();</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">path_fork2</span> <span class="o">=</span> <span class="nx">paths</span><span class="p">.</span><span class="nx">slice</span><span class="p">();</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">af1</span> <span class="o">=</span> <span class="nx">attractor_fields</span><span class="p">.</span><span class="nx">slice</span><span class="p">();</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">af2</span> <span class="o">=</span> <span class="nx">attractor_fields</span><span class="p">.</span><span class="nx">slice</span><span class="p">();</span>
</span><span class='line'>  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">divergence</span><span class="p">((</span><span class="nx">attractor_fields</span><span class="p">.</span><span class="nx">length</span><span class="o">+</span><span class="nx">current</span><span class="o">+</span><span class="nx">value</span><span class="p">)</span><span class="o">%</span><span class="nx">attractor_fields</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span> <span class="nx">af1</span><span class="p">,</span> <span class="nx">path_fork1</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="o">+</span><span class="nx">value</span><span class="p">)</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">divergence</span><span class="p">((</span><span class="nx">attractor_fields</span><span class="p">.</span><span class="nx">length</span><span class="o">+</span><span class="nx">current</span><span class="o">-</span><span class="nx">value</span><span class="p">)</span><span class="o">%</span><span class="nx">attractor_fields</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span> <span class="nx">af2</span><span class="p">,</span> <span class="nx">path_fork2</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="o">+</span><span class="nx">value</span><span class="p">);</span>  
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<ol>
<li>Canvas繪圖
就是查API而已，利用了mozilla的線上開發手冊<a href="https://developer.mozilla.org/zh-TW/">mdn</a></li>
</ol>


<h3>截圖及操作</h3>

<p>1~6數字輸入刻度，0刪除前一個。
<img src="http://i.imgur.com/MSugN.png"></p>

<h3>Github demo page</h3>

<p><a href="http://alivedise.github.com/chromie">chromie</a></p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/24/jmvc-forum-treasure/">[javascriptMVC] Forum 問答</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Alive Kuo</span></span>
  

 - 
        








  


<time datetime="2012-02-24T01:53:00+08:00" pubdate data-updated="true">Feb 24<span>th</span>, 2012</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/javascriptmvc/'>javascriptMVC</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><h3>如何手動觸發model update? 讓&#8217;{model} updated&#8217;可以被想要接受的人接收</h3>

<ul>
<li><a href="https://forum.javascriptmvc.com/topic/how-to-invoke-model-foo-updated-after-model-update">出處</a></li>
<li>答案</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">modelInstanceVariable</span><span class="p">.</span><span class="nx">updated</span><span class="p">({});</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<h3>可以讓view自動聽model更新自己改變自己嗎？</h3>

<pre><code>不行。你應該用controller去更新view。
</code></pre>

<h3>如何除錯./js</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>./js -d  <span class="c">##開啟Rhino javascript debugger</span>
</span><span class='line'>
</span><span class='line'><span class="c">##之後針對要除錯的js下load</span>
</span><span class='line'>
</span><span class='line'>load<span class="o">(</span><span class="s1">&#39;steal/pluginifyjs&#39;</span><span class="o">)</span>
</span><span class='line'>steal.build.pluginify<span class="o">(</span><span class="s1">&#39;alive/gundam&#39;</span>,<span class="o">{})</span>;
</span><span class='line'><span class="c">## 記得設中斷點</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/24/jmvc-class-instance-initial/">[javascriptMVC] Class Init</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Alive Kuo</span></span>
  

 - 
        








  


<time datetime="2012-02-24T01:35:00+08:00" pubdate data-updated="true">Feb 24<span>th</span>, 2012</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/javascriptmvc/'>javascriptmvc</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">$</span><span class="p">.</span><span class="nx">Controller</span><span class="p">(</span><span class="s1">&#39;Alive&#39;</span><span class="p">,{</span>
</span><span class='line'>  <span class="c1">//static init</span>
</span><span class='line'>  <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>      <span class="nx">steal</span><span class="p">.</span><span class="nx">dev</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;The class init will be invoked whenever you declare a class&#39;</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">},{</span>
</span><span class='line'>  <span class="nx">init</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>      <span class="nx">steal</span><span class="p">.</span><span class="nx">dev</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;The instance init will be invoked whenever you declare a new instance&#39;</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">});</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/*Console: The class init will be invoked whenever you declare a class */</span>
</span><span class='line'><span class="k">new</span> <span class="nx">alive</span><span class="p">(</span><span class="nx">element</span><span class="p">);</span>
</span><span class='line'><span class="cm">/*Console: The instance init will be invoked whenever you declare a new instance */</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/17/javascript-future-reserve-word/">[Javascript] Final誤我一生 - Js未來保留字</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Alive Kuo</span></span>
  

 - 
        








  


<time datetime="2012-02-17T17:50:00+08:00" pubdate data-updated="true">Feb 17<span>th</span>, 2012</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/javascript/'>javascript</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><h2>問題</h2>

<p>Rhino javascript debugger一直有一段敘述過不了</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">var</span> <span class="nx">utc_current</span> <span class="o">=</span> <span class="nx">self</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">begin</span> <span class="o">+</span> <span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="kr">final</span> <span class="o">-</span> <span class="nx">self</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">begin</span><span class="p">)</span><span class="o">*</span><span class="nx">offset</span><span class="o">/</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#homura&#39;</span><span class="p">).</span><span class="nx">width</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p>可是明明真實的瀏覽器跑起來都正常運作，用jsfiddle的jslint看也沒問題：
<img src="http://farm8.staticflickr.com/7204/6890686877_931ed0154d_b.jpg" alt="jsfiddle說的"></img></p>

<iframe style="width: 100%; height: 300px" src="http://jsfiddle.net/ddRsg/embedded/js,resources,html,css,result/light/"></iframe>


<h2>真相</h2>

<p>用<a href="http://www.javascriptlint.com/online_lint.php">online jslint</a>看,
<img src="http://farm8.staticflickr.com/7056/6890686883_ff8c5d3848_b.jpg">
突然想起來final好像是js保留字不能直接拿來當key，
實際上會因為瀏覽器有沒有處理而定。</p>

<h2>JS保留字</h2>

<ul>
<li>abstract  else  instanceof  super</li>
<li>boolean  enum  int  switch</li>
<li>break  export  interface  synchronized</li>
<li>byte  extends                  let  this</li>
<li>case  false  long  throw</li>
<li>catch  final  native  thishrows</li>
<li>char  finally  new  transient</li>
<li>class  float  null  true</li>
<li>const  for  package  try</li>
<li>continue  function  private  typeof</li>
<li>debugger  goto  protected  var</li>
<li>default  if  public  void</li>
<li>debuggerlete  implements  return  volatile</li>
<li>do  import  short  while</li>
<li>double  in  static  with</li>
</ul>

</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/17/javascriptmvc-stealjs/">[javascriptMVC] stealJS - Steal Anything</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Alive Kuo</span></span>
  

 - 
        








  


<time datetime="2012-02-17T13:44:00+08:00" pubdate data-updated="true">Feb 17<span>th</span>, 2012</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/javascriptmvc/'>javascriptmvc</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>steal</strong> is a function that loads scripts, css, and  other resources into your application.</p>

<pre><code>steal(FILE_or_FUNCTION, ...)
</code></pre>

<h2>Quick Walkthrough</h2>

<p>Add a script tag that loads<code>steal/steal.js</code> and add the path to the first file to load in the query string like:</p>

<p> &lt;script type=&#8217;text/javascript&#8217;</p>

<pre><code> src='../steal/steal.js?myapp/myapp.js'&gt;
</code></pre>

<p> &lt;/script></p>

<p>Then, start loading things and using them like:</p>

<pre><code> steal('myapp/tabs.js',
       'myapp/slider.js', 
       'myapp/style.css',function(){

    // tabs and slider have loaded 
    $('#tabs').tabs();
    $('#slider').slider()
 })
</code></pre>

<p>Make sure your widgets load their dependencies too:</p>

<pre><code> // myapp/tabs.js
 steal('jquery', function(){
   $.fn.tabs = function(){
    ...
   }
 })
</code></pre>

<h2>Examples:</h2>

<pre><code> // Loads ROOT/jquery/controller/controller.js
 steal('jquery/controller')
 steal('jquery/controller/controller.js')

 // Loads coffee script type and a coffee file relative to
 // the current file
 steal('steal/coffee').then('./mycoffee.coffee')

 // Load 2 files and dependencies in parallel and
 // callback when both have completed
 steal('jquery/controller','jquery/model', function(){
   // $.Controller and $.Model are available
 })

 // Loads a coffee script with a non-standard extension (cf)
 // relative to the current page and instructs the build
 // system to not package it (but it will still be loaded).
 steal({
    src: "./foo.cf",
    packaged: false,
    type: "coffee"
  })
</code></pre>

<p>The following is a longer walkthrough of how to install
 and use steal:</p>

<h2>Adding steal to a page</h2>

<p>After installing StealJS (or JavaScriptMVC),
find the <code>steal</code> folder with
 <code>steal/steal.js</code>.</p>

<p>To use steal, add a script tag
to <code>steal/steal.js</code> to your
html pages.</p>

<p>This walkthrough assumes you have the steal script in <code>public/steal/steal.js</code> and a directory structure like:</p>

<p> @codestart text
 /public</p>

<pre><code> /steal
 /pages
     myapp.html
 /myapp
     myapp.js
     jquery.js
     jquery.ui.tabs.js
</code></pre>

<p> @codeend</p>

<p> To use steal in <code>public/pages/myapp.html</code>,
 add a script tag in <code>myapp.html</code>:</p>

<p> @codestart html
 &lt;script type=&#8217;text/javascript&#8217;</p>

<pre><code> src='../steal/steal.js'&gt;
</code></pre>

<p> &lt;/script>
 @codeend</p>

<p> <div class='whisper'>PRO TIP: Bottom load your scripts. It
 will increase your application&#8217;s percieved response time.</div></p>

<h2>Loading the First Script</h2>

<p> Once steal has been added to your page, it&#8217;s time
 to load scripts. We want to load <code>myapp.js</code>
 and have it load <code>jquery.js</code> and
 <code>jquery.ui.tabs.js</code>.</p>

<p> By default, steal likes your scripts
 to be within in the [steal.static.root steal.root] folder.  The [steal.root] the
 folder contains the <code>steal</code> folder.  In this example,
 it is the <code>public</code> folder.</p>

<p> To load <code>myapp/myapp.js</code>, we have two options:</p>

<h4>Add a script tag</h4>

<p> Add a script tag after the steal
 script that &#8216;steals&#8217; <code>myapp.js</code> like:</p>

<p> @codestart html
 &lt;script type=&#8217;text/javascript&#8217;>
   steal(&#8216;myapp/myapp.js&#8217;)
 &lt;/script>
 @codeend</p>

<h4>Add the script parameter</h4>

<p> The most common (and shortest) way to load <code>myapp.js</code>
 is to add the script path to the steal script&#8217;s src after in the
 query params.  So, instead of adding a script, we change
 the steal script from:</p>

<p> @codestart html
 &lt;script type=&#8217;text/javascript&#8217;</p>

<pre><code> src='../steal/steal.js'&gt;
</code></pre>

<p> &lt;/script>
 @codeend</p>

<p> To</p>

<p> @codestart html
 &lt;script type=&#8217;text/javascript&#8217;</p>

<pre><code> src='../steal/steal.js?&lt;b&gt;myapp/myapp.js&lt;/b&gt;'&gt;
</code></pre>

<p> &lt;/script>
 @codeend</p>

<p> <div class='whisper'>PRO TIP: You can also just add
 <code>?myapp</code> to the query string.</div></p>

<h2>Loading Scripts</h2>

<p> We want to load <code>jquery.js</code> and
 <code>jquery.ui.tabs.js</code> into the page and then
 add then create a tabs widget.  First we need to load
 <code>jquery.js</code>.</p>

<p> By default, steal loads script relative to [steal.root]. To
 load <code>myapp/jquery.js</code> we can the following to
 <code>myapp.js</code>:</p>

<pre><code> steal('myapp/jquery.js');
</code></pre>

<p> But, we can also load relative to <code>myapp.js</code> like:</p>

<pre><code> steal('./jquery.js');
</code></pre>

<p> Next, we need to load <code>jquery.ui.tabs.js</code>.  You
 might expect something like:</p>

<pre><code> steal('./jquery.js','./jquery.ui.tabs.js')
</code></pre>

<p> to work.  But there are two problems / complications:</p>

<ul>
<li> steal loads scripts in parallel and runs out of order</li>
<li> <code>jquery.ui.tabs.js</code> depends on jQuery being loaded</li>
</ul>


<p> This means that steal might load <code>jquery.ui.tabs.js</code>
 before <code>jquery.js</code>.  But this is easily fixed.</p>

<p> [steal.static.then] waits until all previous scripts have loaded and
 run before loading scripts after it.  We can load <code>jquery.ui.tabs.js</code>
 after <code>jquery.js</code> like:</p>

<pre><code> steal('./jquery.js').then('./jquery.ui.tabs.js')
</code></pre>

<p> Finally, we need to add tabs to the page after
 the tabs&#8217;s widget has loaded.  We can add a callback function to
 steal that will get called when all previous scripts have finished
 loading:</p>

<pre><code> steal('./jquery.js').then('./jquery.ui.tabs.js', function($){
   $('#tabs').tabs();
 })
</code></pre>

<h2>Other Info</h2>

<h3>Exclude Code Blocks From Production</h3>

<p> To exclude code blocks from being included in
 production builds, add the following around
 the code blocks.</p>

<pre><code> //!steal-remove-start
     code to be removed at build
 //!steal-remove-end
</code></pre>

<h3>Lookup Paths</h3>

<p> By default steal loads resources relative
 to [steal.static.root steal.root].  For example, the following
 loads foo.js in <code>steal.root</code>:</p>

<pre><code> steal('foo.js'); // loads //foo.js
</code></pre>

<p> This is the same as writing:</p>

<pre><code> steal('//foo.js');
</code></pre>

<p> Steal uses <code>'//'</code> to designate the [steal.static.root steal.root]
 folder.</p>

<p> To load relative to the current file, add <code>"./"</code> or
  <code>"../"</code>:</p>

<pre><code> steal("./bar.js","../folder/zed.js");
</code></pre>

<p> Often, scripts can be found in a folder within the same
 name. For example, [jQuery.Controller $.Controller] is
 in <code>//jquery/controller/controller.js</code>. For convience,
 if steal is provided a path without an extension like:</p>

<pre><code> steal('FOLDER/PLUGIN');
</code></pre>

<p> It is the same as writing:</p>

<pre><code> steal('FOLDER/PLUGIN/PLUGIN.js')
</code></pre>

<p> This means that <code>//jquery/controller/controller.js</code>
 can be loaded like:</p>

<pre><code>  steal('jquery/controller')
</code></pre>

<h3>Types</h3>

<p> steal can load resources other than JavaScript.</p>

<p> @constructor</p>

<p> Loads resources specified by each argument.  By default, resources
 are loaded in parallel and run in any order.</p>

<p> @param {String|Function|Object} resource&#8230;</p>

<p> Each argument specifies a resource.  Resources can
 be given as a:</p>

<h3>Object</h3>

<p> An object that specifies the loading and build
 behavior of a resource.</p>

<pre><code>  steal({
    src: "myfile.cf",
    type: "coffee",
    packaged: true,
    unique: true,
    ignore: false,
    waits: false
  })
</code></pre>

<p> The available options are:</p>

<ul>
<li><p><strong>src</strong> {<em>String</em>} - the path to the resource.</p></li>
<li><p><strong>waits</strong> {<em>Boolean default=false</em>} - true the resource should wait
for prior steals to load and run. False if the resource should load and run in
parallel.  This defaults to true for functions.</p></li>
<li><p><strong>unique</strong> {<em>Boolean default=true</em>} - true if this is a unique resource
that &#8216;owns&#8217; this url.  This is true for files, false for functions.</p></li>
<li><p><strong>ignore</strong> {<em>Boolean default=false</em>} - true if this resource should
not be built into a production file and not loaded in
production.  This is great for script that should only be available
in development mode.</p></li>
<li><p><strong>packaged</strong> {<em>Boolean default=true</em>} - true if the script should be built
into the production file. false if the script should not be built
into the production file, but still loaded.  This is useful for
loading &#8216;packages&#8217;.</p></li>
<li><p><strong>type</strong> {<em>String default=&#8221;js&#8221;</em>} - the type of the resource.  This
is typically inferred from the src.</p></li>
</ul>


<h3><strong>String</strong></h3>

<p> Specifies src of the resource.  For example:</p>

<pre><code>   steal('./file.js')
</code></pre>

<p> Is the same as calling:</p>

<pre><code>   steal({src: './file.js'})
</code></pre>

<h3><strong>Function</strong></h3>

<p> A callback function that runs when all previous steals
 have completed.</p>

<pre><code> steal('jquery', 'foo',function(){
   // jquery and foo have finished loading
   // and runing
 })
</code></pre>

<p> @return {steal} the steal object for chaining
/</p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/02/17/rd2-table-game-survey/">[Table Game] 桌遊大賽賽前研究</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <span class="fn">Alive Kuo</span></span>
  

 - 
        








  


<time datetime="2012-02-17T09:33:00+08:00" pubdate data-updated="true">Feb 17<span>th</span>, 2012</time> - 
        

posted in
<span class="categories">
  
    <a class='category' href='/blog/categories/tablegame/'>tablegame</a>
  
</span>


        
      </p>
    
  </header>


  <div class="entry-content"><h2>玩過得項目</h2>

<h3>卡卡頌十周年紀念版 (德文版)</h3>

<ul>
<li><a href="http://pokichen.pixnet.net/blog/post/28497470-%5B%E6%A1%8C%E9%81%8A%E4%BB%8B%E7%B4%B9%5D-%E5%8D%A1%E5%8D%A1%E9%A0%8C%E5%8D%81%E9%80%B1%E5%B9%B4%E7%B4%80%E5%BF%B5%E7%89%88-carcassonne%3A-10th">外部網誌介紹</a></li>
<li>拼圖+策略遊戲</li>
<li><img src="http://pic.pimg.tw/pokichen/dcd150bfc7edbf165acf0e1e81740058.jpg"></li>
</ul>


<h3>矮人礦坑 1+2 – 中文版</h3>

<ul>
<li><a href="http://bghut.pixnet.net/blog/post/30727295">外部網誌介紹-1代</a></li>
<li><a href="http://bghut.pixnet.net/blog/post/33382544-saboteur-2-%E7%9F%AE%E4%BA%BA%E7%A4%A6%E5%9D%912">外部網誌介紹-2代</a></li>
<li>桌遊入門遊戲之一，心機遊戲榜上有名的系列。</li>
<li><img src="http://images.boardgamegeek.com/images/pic172286_md.jpg" title="alt" ></li>
</ul>


<h3>閃靈快手</h3>

<ul>
<li><a href="http://barruse0808.pixnet.net/blog/post/12545713">外部網誌介紹</a></li>
<li><a href="http://aliveshell.blogspot.com/2011/06/blog-post_15.html">自己以前寫得網誌介紹</a></li>
<li><img src="http://pic.pimg.tw/barruse0808/1326182657-81959729.jpg"></li>
</ul>


<h3>水瓶座</h3>

<ul>
<li><a href="http://heyjude0929.pixnet.net/blog/post/17222133">外部網誌介紹</a></li>
<li><a href="http://aliveshell.blogspot.com/2011/06/blog-post_6356.html">自己以前寫得網誌介紹</a></li>
<li><img src="http://images.boardgamegeek.com/images/pic67758_md.jpg"></li>
</ul>


<h3>Dixit 3說書人–奧德賽擴充</h3>

<ul>
<li><a href="http://heyjude0929.pixnet.net/blog/post/29631793">外部網誌介紹</a></li>
<li>默契考驗遊戲，事實上是挖梗遊戲。</li>
<li><img src="http://images.boardgamegeek.com/images/pic455883_md.jpg"></li>
</ul>


<h2>雄偉競技場 – 中文版</h2>

<ul>
<li><a href="http://home.gamer.com.tw/creationDetail.php?sn=910301">外部網誌介紹</a></li>
<li>賭博版的牌七，這樣說好像不太有趣，不過這遊戲我也只玩過一次就沒碰了。</li>
<li><img src="http://img391.imageshack.us/img391/1374/colossal01gd8.jpg"></li>
</ul>


<h2>沒玩過得項目</h2>

<h3>諜影危機</h3>

<ul>
<li><a href="http://www.bncgames.com/pdt/pdt114.html">外部網誌介紹</a></li>
<li>這看起來實在非常像風聲外國版XD

<h3>盜夢都市</h3></li>
<li><a href="http://barruse0808.pixnet.net/blog/post/14640737">外部網誌介紹</a>

<h3>Dweebies</h3></li>
<li><a href="http://barruse0808.pixnet.net/blog/post/9448441">外部網誌介紹</a>

<h3>穿越美國</h3></li>
<li><a href="http://heyjude0929.pixnet.net/blog/post/21362647">外部網誌介紹</a>

<h3>GiftTrap送禮高手 – 中文版</h3></li>
<li><a href="http://www.wretch.cc/blog/gamefarm/7986061">外部網誌介紹</a>

<h3>失落的城市 – 中文版</h3></li>
<li><a href="http://tw.myblog.yahoo.com/bg-y17/article?mid=-2&amp;prev=60&amp;l=a&amp;fid=11">外部網誌介紹</a></li>
</ul>

</div>
  
  


</div>

      </article>
    
    </div>
      <div class="row">
        <ul class="pager">
          
            <li class="previous">
              <a href="/blog/page/4/">&larr; Older</a>
            </li>
          
          
            <li class="next">
              <a class="next" href="/blog/page/2/">Newer &rarr;</a>
            </li>
          
        </ul>
      </div>
  </div>
</div>


  <div id="footer-widgets">
  <div class="container">
    <div class="row">
  <div class="span3">
    <h2>recent posts</h2>
    <ul class="recent_posts">
      
        <li>
          <a href="/blog/2013/07/05/page-visibility-on-firefox-os/">HTML5 Page visibility on Fx OS</a>
        </li>
      
        <li>
          <a href="/blog/2013/07/05/one-year-at-mozilla/">My first year at Mozilla</a>
        </li>
      
        <li>
          <a href="/blog/2013/06/18/alvitr/">Recent side projects: Alvitr, Lucifer, GaiaSystemAPIDOC</a>
        </li>
      
        <li>
          <a href="/blog/2013/05/27/rotation-matrix/">Javascript從變形矩陣反推scale以及rotate</a>
        </li>
      
        <li>
          <a href="/blog/2013/02/23/from-browser-to-browser/">From browser to browser. (1)</a>
        </li>
      
    </ul>
    <h2><a href="/blog/archives">archives</a></h2>
  </div>
  <div class="span3">
    

  </div>
  <div class="span4">
    
<h2>twitter</h2>
<a href="https://twitter.com/alivedise" class="twitter-follow-button" data-show-count="true" data-lang="en">Follow @alivedise</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
<div class="tweet" data-twitter-user="alivedise">
</div>


  </div>
  <div class="span2">
    <h2>found on</h2>

<a href="https://github.com/alivedise/" rel="tooltip" title="Github"><img class="social_icon" title="Github" alt="github icon" src="/images/glyphicons_381_github.png"></a>







<a href="http://twitter.com/alivedise" rel="tooltip" title="Twitter"><img class="social_icon" title="Twitter" alt="Twitter icon" src="/images/glyphicons_391_twitter_t.png"></a>








  </div>
</div>

  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-left">
  <a href="/">Ascheriit</a>
  - Copyright &copy; 2013 - Alive Kuo
</p>
<p class="pull-right">
  <span>Powered by <a href="http://octopress.org/">Octopress</a>.</span>
  
    <span>Designed by <a href="http://www.AdrianArtiles.com">Adrian Artiles</a>.</span>
  
</p>

  </div>
</footer>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script>window.jQuery || document.write('<script src="/javascripts/libs/jquery-1.7.2.min.js" type="text/javascript"><\/script>')</script>
<script src="/javascripts/libs/bootstrap.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.tweet.js" type="text/javascript"></script>
<script src="/javascripts/jquery.instagram.js" type="text/javascript"></script>
<script src="/javascripts/libs/jquery.masonry.min.js" type="text/javascript"></script>
<script src="/javascripts/custom.js" type="text/javascript"></script>


<script type="text/javascript">
      var disqus_shortname = 'ascheriit';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




</body>
</html>
